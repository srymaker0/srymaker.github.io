<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>æ•°æ®ç»“æ„åŸºç¡€â€”â€”Cè¯­è¨€å®ç° | The Srymaker0</title><meta name="keywords" content="Data structure, C"><meta name="author" content="srymaker0"><meta name="copyright" content="srymaker0"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="ç¨‹åº &#x3D; ç®—æ³• + æ•°æ®ç»“æ„ ç¨‹åºè®¾è®¡ &#x3D; ç®—æ³• + æ•°æ®ç»“æ„ + ç¼–ç¨‹èŒƒå¼ ç®—æ³•è§£å†³çš„æ˜¯è®¡ç®—æœºçš„è®¡ç®—èµ„æº  è€Œæ•°æ®ç»“æ„è§£å†³çš„æ˜¯è®¡ç®—æœºçš„å­˜å‚¨èµ„æº  è§£å†³è¿™ä¸¤ä¸ªé—®é¢˜æ‰æ˜¯ä¸€ä¸ªå¥½çš„ç¨‹åº è¿™ä¹Ÿå°±æ˜¯ä¸ºä»€ä¹ˆè¦å­¦ä¹ æ•°æ®ç»“æ„çš„åŸå›  âš¡æ•°æ®ç»“æ„ &#x3D; ç»“æ„å®šä¹‰ + ç»“æ„æ“ä½œ (å¯¹äºä»€ä¹ˆæ˜¯æ•°æ® åé¢ä¼šæœ‰æ›´æ·±çš„ç†è§£)  é¡ºåºè¡¨ä¸€ç§åŠŸèƒ½æ›´ä¸ºé«˜çº§çš„ä¸€ç§æ•°ç»„ å®ƒéœ€è¦å¼€è¾Ÿä¸€æ®µè¿ç»­çš„ç©ºé—´å¹¶ä¸”ç©ºé—´çš„æ¯ä¸ªä½ç½®å¯ä»¥å­˜å‚¨ä»»æ„ç±»å‹  siz">
<!-- hexo-inject:begin --><!-- hexo-inject:end --><meta property="og:type" content="article">
<meta property="og:title" content="æ•°æ®ç»“æ„åŸºç¡€â€”â€”Cè¯­è¨€å®ç°">
<meta property="og:url" content="http://srymaker0.com/posts/73f4">
<meta property="og:site_name" content="The Srymaker0">
<meta property="og:description" content="ç¨‹åº &#x3D; ç®—æ³• + æ•°æ®ç»“æ„ ç¨‹åºè®¾è®¡ &#x3D; ç®—æ³• + æ•°æ®ç»“æ„ + ç¼–ç¨‹èŒƒå¼ ç®—æ³•è§£å†³çš„æ˜¯è®¡ç®—æœºçš„è®¡ç®—èµ„æº  è€Œæ•°æ®ç»“æ„è§£å†³çš„æ˜¯è®¡ç®—æœºçš„å­˜å‚¨èµ„æº  è§£å†³è¿™ä¸¤ä¸ªé—®é¢˜æ‰æ˜¯ä¸€ä¸ªå¥½çš„ç¨‹åº è¿™ä¹Ÿå°±æ˜¯ä¸ºä»€ä¹ˆè¦å­¦ä¹ æ•°æ®ç»“æ„çš„åŸå›  âš¡æ•°æ®ç»“æ„ &#x3D; ç»“æ„å®šä¹‰ + ç»“æ„æ“ä½œ (å¯¹äºä»€ä¹ˆæ˜¯æ•°æ® åé¢ä¼šæœ‰æ›´æ·±çš„ç†è§£)  é¡ºåºè¡¨ä¸€ç§åŠŸèƒ½æ›´ä¸ºé«˜çº§çš„ä¸€ç§æ•°ç»„ å®ƒéœ€è¦å¼€è¾Ÿä¸€æ®µè¿ç»­çš„ç©ºé—´å¹¶ä¸”ç©ºé—´çš„æ¯ä¸ªä½ç½®å¯ä»¥å­˜å‚¨ä»»æ„ç±»å‹  siz">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg">
<meta property="article:published_time" content="2021-05-08T02:45:53.000Z">
<meta property="article:modified_time" content="2021-09-05T16:32:05.202Z">
<meta property="article:author" content="srymaker0">
<meta property="article:tag" content="Data structure, C">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg"><link rel="shortcut icon" href="https://cdn.jsdelivr.net/gh/srymaker0/blogImgs@main/Img/20210504142319.png"><link rel="canonical" href="http://srymaker0.com/posts/73f4"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"search.xml","languages":{"hits_empty":"æ‰¾ä¸åˆ°æ‚¨æŸ¥è¯¢çš„å†…å®¹ï¼š${query}"}},
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"ç¹","msgToSimplifiedChinese":"ç°¡"},
  noticeOutdate: undefined,
  highlight: {"plugin":"prismjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: 'å¤åˆ¶æˆåŠŸ',
    error: 'å¤åˆ¶é”™è¯¯',
    noSupport: 'æµè§ˆå™¨ä¸æ”¯æŒ'
  },
  relativeDate: {
    homepage: true,
    post: true
  },
  runtime: '',
  date_suffix: {
    just: 'åˆšåˆš',
    min: 'åˆ†é’Ÿå‰',
    hour: 'å°æ—¶å‰',
    day: 'å¤©å‰',
    month: 'ä¸ªæœˆå‰'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: {"chs_to_cht":"ä½ å·²åˆ‡æ¢ä¸ºç¹ä½“","cht_to_chs":"ä½ å·²åˆ‡æ¢ä¸ºç®€ä½“","day_to_night":"ä½ å·²åˆ‡æ¢ä¸ºæ·±è‰²æ¨¡å¼","night_to_day":"ä½ å·²åˆ‡æ¢ä¸ºæµ…è‰²æ¨¡å¼","bgLight":"#49b1f5","bgDark":"#121212","position":"bottom-left"},
  source: {
    jQuery: 'https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js',
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/js/jquery.justifiedGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/css/justifiedGallery.min.css'
    },
    fancybox: {
      js: 'https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js',
      css: 'https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css'
    }
  },
  isPhotoFigcaption: true,
  islazyload: false,
  isanchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = { 
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2021-09-06 00:32:05'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          const isDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches
          const isLightMode = window.matchMedia('(prefers-color-scheme: light)').matches
          const isNotSpecified = window.matchMedia('(prefers-color-scheme: no-preference)').matches
          const hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified

          if (t === undefined) {
            if (isLightMode) activateLightMode()
            else if (isDarkMode) activateDarkMode()
            else if (isNotSpecified || hasNoSupport) {
              const now = new Date()
              const hour = now.getHours()
              const isNight = hour <= 6 || hour >= 18
              isNight ? activateDarkMode() : activateLightMode()
            }
            window.matchMedia('(prefers-color-scheme: dark)').addListener(function (e) {
              if (saveToLocal.get('theme') === undefined) {
                e.matches ? activateDarkMode() : activateLightMode()
              }
            })
          } else if (t === 'light') activateLightMode()
          else activateDarkMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const fontSizeVal = saveToLocal.get('global-font-size')
    if (fontSizeVal !== undefined) {
      document.documentElement.style.setProperty('--global-font-size', fontSizeVal + 'px')
    }
    })(window)</script><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@latest/butterfly/css/iconfont.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/CCKNBC/ccknbc.github.io@latest/css/ccknbc.css"><link rel="stylesheet" href="/css/mycss.css"><meta name="generator" content="Hexo 5.4.0">
<style>.github-emoji { position: relative; display: inline-block; width: 1.2em; min-height: 1.2em; overflow: hidden; vertical-align: top; color: transparent; }  .github-emoji > span { position: relative; z-index: 10; }  .github-emoji img, .github-emoji .fancybox { margin: 0 !important; padding: 0 !important; border: none !important; outline: none !important; text-decoration: none !important; user-select: none !important; cursor: auto !important; }  .github-emoji img { height: 1.2em !important; width: 1.2em !important; position: absolute !important; left: 50% !important; top: 50% !important; transform: translate(-50%, -50%) !important; user-select: none !important; cursor: auto !important; } .github-emoji-fallback { color: inherit; } .github-emoji-fallback img { opacity: 0 !important; }</style><!-- hexo-inject:begin --><!-- hexo-inject:end -->
<link rel="stylesheet" href="/css/prism.css" type="text/css"></head><body><div id="loading-box"><div class="loading-left-bg"></div><div class="loading-right-bg"></div><div class="spinner-box"><div class="configure-border-1"><div class="configure-core"></div></div><div class="configure-border-2"><div class="configure-core"></div></div><div class="loading-word">åŠ è½½ä¸­...</div></div></div><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="author-avatar"><img class="avatar-img" src="https://cdn.jsdelivr.net/gh/srymaker0/blogImgs@main/Img/20210503135612.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data"><div class="data-item is-center"><div class="data-item-link"><a href="/archives/"><div class="headline">æ–‡ç« </div><div class="length-num">13</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/tags/"><div class="headline">æ ‡ç­¾</div><div class="length-num">9</div></a></div></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> é¦–é¡µ</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> æ ‡ç­¾</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> åˆ†ç±»</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> å‹é“¾</span></a></div><div class="menus_item"><a class="site-page" href="/messageboard"><i class="fa-fw fa fa-paper-plane"></i><span> ç•™è¨€æ¿</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> å…³äºä½œè€…</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="not-top-img" id="page-header"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">The Srymaker0</a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> æœç´¢</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> é¦–é¡µ</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> æ ‡ç­¾</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> åˆ†ç±»</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> å‹é“¾</span></a></div><div class="menus_item"><a class="site-page" href="/messageboard"><i class="fa-fw fa fa-paper-plane"></i><span> ç•™è¨€æ¿</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> å…³äºä½œè€…</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav></header><main class="layout" id="content-inner"><div id="post"><div id="post-info"><h1 class="post-title">æ•°æ®ç»“æ„åŸºç¡€â€”â€”Cè¯­è¨€å®ç°</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">å‘è¡¨äº</span><time class="post-meta-date-created" datetime="2021-05-08T02:45:53.000Z" title="å‘è¡¨äº 2021-05-08 10:45:53">2021-05-08</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">æ›´æ–°äº</span><time class="post-meta-date-updated" datetime="2021-09-05T16:32:05.202Z" title="æ›´æ–°äº 2021-09-06 00:32:05">2021-09-06</time></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">å­—æ•°æ€»è®¡:</span><span class="word-count">11.7k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">é˜…è¯»æ—¶é•¿:</span><span>51åˆ†é’Ÿ</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="æ•°æ®ç»“æ„åŸºç¡€â€”â€”Cè¯­è¨€å®ç°"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">é˜…è¯»é‡:</span><span id="busuanzi_value_page_pv"></span></span></div></div></div><article class="post-content" id="article-container"><p>ç¨‹åº = ç®—æ³• + æ•°æ®ç»“æ„</p>
<!-- hexo-inject:begin --><!-- hexo-inject:end --><p>ç¨‹åºè®¾è®¡ = ç®—æ³• + æ•°æ®ç»“æ„ + ç¼–ç¨‹èŒƒå¼</p>
<p>ç®—æ³•è§£å†³çš„æ˜¯è®¡ç®—æœºçš„è®¡ç®—èµ„æº  è€Œæ•°æ®ç»“æ„è§£å†³çš„æ˜¯è®¡ç®—æœºçš„å­˜å‚¨èµ„æº  è§£å†³è¿™ä¸¤ä¸ªé—®é¢˜æ‰æ˜¯ä¸€ä¸ªå¥½çš„ç¨‹åº è¿™ä¹Ÿå°±æ˜¯ä¸ºä»€ä¹ˆè¦å­¦ä¹ æ•°æ®ç»“æ„çš„åŸå› </p>
<p>âš¡æ•°æ®ç»“æ„ = ç»“æ„å®šä¹‰ + ç»“æ„æ“ä½œ (å¯¹äºä»€ä¹ˆæ˜¯æ•°æ® åé¢ä¼šæœ‰æ›´æ·±çš„ç†è§£) </p>
<h2 id="é¡ºåºè¡¨"><a href="#é¡ºåºè¡¨" class="headerlink" title="é¡ºåºè¡¨"></a>é¡ºåºè¡¨</h2><p>ä¸€ç§åŠŸèƒ½æ›´ä¸ºé«˜çº§çš„ä¸€ç§æ•°ç»„ å®ƒéœ€è¦å¼€è¾Ÿä¸€æ®µè¿ç»­çš„ç©ºé—´å¹¶ä¸”ç©ºé—´çš„æ¯ä¸ªä½ç½®å¯ä»¥å­˜å‚¨ä»»æ„ç±»å‹</p>
<p><img src="/img/loading.gif" data-original="https://i.loli.net/2020/11/21/BvEkmQTbLlAu1PU.png" style="zoom:67%;"></p>
<p>sizeè¡¨ç¤ºé¡ºåºè¡¨çš„å¤§å°        lengthè¡¨ç¤ºå½“å‰å…ƒç´ çš„ä¸ªæ•°      data_typeè¡¨ç¤ºå…ƒç´ çš„ç±»å‹</p>
<pre class="line-numbers language-c" data-language="c"><code class="language-c">
#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;
#include &lt;time.h&gt;

#define COLOR(a, b) "\033[" #b "m" a "\033[0m"

#define GREEN(a) COLOR(a, 32)

typedef struct Vector {
    int *data;//æŒ‡å‘çš„æ˜¯ä¸€æ®µè‡ªå·±å¼€è¾Ÿçš„ç±»å‹çš„ç©ºé—´çš„é¦–åœ°å€
    int size, length;
} Vec;


Vec *init(int n) {
    Vec *v = (Vec *)malloc(sizeof(Vec));
    v-&gt;data = (int *)malloc(sizeof(int) * n);
    v-&gt;size = n;
    v-&gt;length = 0;
    return v;
}

int expand(Vec *v) {
    int extr_size = v-&gt;size;
    //return v-&gt;data = (int *)realloc(v-&gt;data, sizeof(int) * (v-&gt;size + extr_size));
    int *p;
    while (extr_size) {
        //reallocä¼šè‡ªåŠ¨å°†åŸæ¥çš„ç©ºé—´å›æ”¶æ‰
        p = (int *)realloc(v-&gt;data, sizeof(int) * (v-&gt;size + extr_size));
        //å¦‚æœpä¸ä¸ºç©ºåœ°å€ åˆ™æˆ‘ä»¬å¼€è¾ŸæˆåŠŸ ç›´æ¥breaké€€å‡ºå¾ªå å¦åˆ™ä¸€ç›´å¼€è¾ŸåŸæ¥çš„1/2å€
        if (p) break;
        extr_size &gt;&gt;= 1;
    }
    //å¦‚æœextr_size == 0 åˆ™è¯´æ˜çœŸçš„å¼€ä¸ä¸‹äº† ç›´æ¥è¿”å›0å€¼
    if (extr_size == 0) return 0;
    v-&gt;data = p;
    v-&gt;size += extr_size;
    return 1;
}

int insert(Vec *v, int val, int ind) {
    if (v == NULL) return 0;
    if (ind &lt; 0 || ind &gt; v-&gt;length) return 0;
    if (v-&gt;length == v-&gt;size) {
        if (!expand(v)) return 0;
        printf(GREEN("success to expand! the Vector size is %d\n"), v-&gt;size);
    }
    for (int i = v-&gt;length; i &gt; ind; i--) {
        v-&gt;data[i] = v-&gt;data[i - 1];
    }
    v-&gt;data[ind] = val;
    v-&gt;length += 1;
    return 1;
}

int erase(Vec *v, int ind) {
    if (v == NULL) return 0;
    if (ind &lt; 0 || ind &gt;= v-&gt;length) return 0;
    for (int i = ind + 1; i &lt; v-&gt;length; i++) {
        v-&gt;data[i - 1] = v-&gt;data[i];
    }
    v-&gt;length -= 1;
    return 1;
}

//åŠ¨æ€å¼€è¾Ÿç©ºé—´éœ€è¦è‡ªå·±æ‰‹åŠ¨é‡Šæ”¾ é¿å…å†…å­˜æ³„æ¼
void clear(Vec *v) {
    if (v == NULL) return;
    free(v-&gt;data);
    free(v);
    return ;
}

void output(Vec *v) {
    if (v == NULL) return;
    printf("Vector : [");
    for (int i = 0; i &lt; v-&gt;length; i++) {
        i &amp;&amp; printf(", ");
        printf("%d", v-&gt;data[i]);
    }
    printf("]\n");
    return ;
}

int main() {
    srand(time(0));
    #define max_op 20
    Vec *v = init(2);
    for (int i = 0; i &lt; max_op; i++) {
        int val = rand() % 100;
        int ind = rand() % (v-&gt;length + 3) - 1;
        int op = rand() % 4;
        switch (op) {
            case 1:
            case 2:
            case 0: {
                printf("insert %d at %d to Vector = %d\n", val, ind, insert(v, val, ind));
            } break;
            case 3: {
                printf("erase a iterm at %d from Vector = %d\n", ind, erase(v, ind));
            } break;
        }
        output(v);
        printf("\n");
    }
    clear(v);

    return 0;
}<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<ul>
<li><p>mallocåŠ¨æ€å†…å­˜ç”³è¯· mallocåªæ˜¯åˆ’åˆ†ä¸€ä¸ªç©ºé—´å‘Šè¯‰ä½ è¿™ä¸ªç©ºé—´æ˜¯å¯ä»¥ç”¨çš„ </p>
<ul>
<li>æˆåŠŸæ—¶ï¼Œè¿”å›æŒ‡å‘æ–°åˆ†é…å†…å­˜å¼€å¤´çš„æŒ‡é’ˆã€‚</li>
<li>ä¸ºäº†é¿å…å†…å­˜æ³„æ¼ï¼Œå¿…é¡»ä½¿ç”¨freeï¼ˆï¼‰ æˆ– reallocï¼ˆï¼‰é‡Šæ”¾è¿”å›çš„æŒ‡é’ˆã€‚ </li>
<li>å¤±è´¥æ—¶ï¼Œè¿”å›ä¸€ä¸ªç©ºæŒ‡é’ˆã€‚</li>
</ul>
</li>
<li><p>è€Œcallocåœ¨å¼€è¾Ÿç©ºé—´çš„æ—¶å€™ä¼šå°†è¿™æ®µç©ºé—´æ¸…0æˆ–è€…æ˜¯ç©ºåœ°å€</p>
</li>
<li><p>realloc(åœ°å€,å¤§å°)æŒ‡çš„æ˜¯é‡æ–°ç»™ä½ åˆ†é…ä¸€æ®µç©ºé—´</p>
<ul>
<li><p>ç¬¬ä¸€ä¸ªå‚æ•°ä¼ è¿›å»ä¸€ä¸ªåœ°å€ æ˜¯æˆ‘ä»¬è¦å¯¹å“ªç‰‡ç©ºé—´è¿›è¡Œé‡æ–°åˆ’åˆ† è€Œè¿™ç‰‡ç©ºé—´çš„é¦–åœ°å€å°±æ˜¯æˆ‘ä»¬çš„ç¬¬ä¸€ä¸ªå‚æ•°  </p>
</li>
<li><p>ç¬¬äºŒä¸ªå‚æ•°æ˜¯ å°†ç°åœ¨çš„è¿™ç‰‡ç©ºé—´æ‰©å¤§å¤šå¤§çš„å­—èŠ‚æ•°  è¿”å›å€¼æ˜¯æ–°å¼€è¾Ÿå‡ºæ¥çš„ç©ºé—´çš„é¦–åœ°å€</p>
</li>
<li>å¯ä»¥åœ¨åŸæ¥çš„åŸºç¡€ä¸Šå¼€è¾Ÿé¢å¤–çš„ç©ºé—´ å¦‚æœè¿˜æ˜¯å­˜ä¸ä¸‹åˆ™ä¼šè¿”å›NULLå€¼ æ­¤æ—¶å¿…é¡»æ ¼å¤–æ³¨æ„ï¼Œ ä¸èƒ½è®©åŸæ•°æ®åŸŸæŒ‡å‘å®ƒ</li>
<li>å¦‚æœå¼€è¾Ÿäº†é¢å¤–ç©ºé—´è¿˜æ˜¯å­˜ä¸ä¸‹ åˆ™ä¼šé‡æ–°åˆ†é…ä¸€æ®µå’ŒåŸç©ºé—´ä¸€æ ·å¤§çš„ç©ºé—´å¹¶ä¸”æ‰©å¤§ä¸¤å€ ä¸è¿‡æˆ‘ä»¬åœ¨è¿™é‡Œè®©å®ƒæ‰©å¤§åŸæ¥çš„1/2å€  </li>
</ul>
</li>
<li></li>
</ul>
<h2 id="é“¾è¡¨"><a href="#é“¾è¡¨" class="headerlink" title="é“¾è¡¨"></a>é“¾è¡¨</h2><p><img src="/img/loading.gif" data-original="https://i.loli.net/2020/11/20/SxkqLQKFN7lEhea.png" style="zoom: 67%;"></p>
<ul>
<li><p>é“¾è¡¨å¯ä»¥åˆ†ä¸ºä¸¤éƒ¨åˆ† </p>
<ul>
<li><p><strong>ç¨‹åºå†…éƒ¨</strong> è¿™é‡ŒæŒ‡çš„å°±æ˜¯å¤´æŒ‡é’ˆ æˆ‘ä»¬åœ¨ç¨‹åºå†…éƒ¨èƒ½çœ‹åˆ°çš„åªæœ‰å¤´æŒ‡é’ˆæ‰€è¿æ¥çš„é“¾è¡¨</p>
<ul>
<li>æˆ‘ä»¬å¯ä»¥é€šè¿‡å¤´æŒ‡é’ˆå»æ“ä½œé“¾è¡¨</li>
</ul>
</li>
<li><p><strong>å†…å­˜å†…éƒ¨</strong> è¿™éƒ¨åˆ†æ˜¯é“¾è¡¨çš„æœ¬è´¨ åœ¨é€»è¾‘ä¸Šå¦‚ä¸Šå›¾ä¸€æ ·</p>
<ul>
<li>æœ€åä¸€ä¸ªèŠ‚ç‚¹çš„æŒ‡é’ˆåŸŸä¸ºNULL</li>
<li>å•å‘é“¾è¡¨çš„æŒ‡é’ˆåŸŸåˆåâ€œåç»§â€ï¼›åŒå‘é“¾è¡¨æœ‰â€œå‰é©±â€å’Œâ€œåç»§â€</li>
</ul>
</li>
</ul>
</li>
<li><p>å¯¹äºæ™®é€šçš„é“¾è¡¨ä¸­çš„æŒ‡é’ˆåŸŸ æˆ‘ä»¬ç§°ä¹‹ä¸ºåç»§ï¼ˆå½“å‰æŒ‡é’ˆåŸŸæŒ‡å‘åé¢èŠ‚ç‚¹çš„åœ°å€ï¼‰</p>
</li>
<li><p>æ’å…¥</p>
<ul>
<li>â‘ èµ°åˆ°å¾…æ’å…¥ä½ç½®çš„<strong>å‰ä¸€ä¸ª</strong>ä½ç½®çš„èŠ‚ç‚¹p</li>
<li>â‘¡å…ˆå°†æ–°çš„èŠ‚ç‚¹xçš„æŒ‡é’ˆåŸŸæŒ‡å‘å¾…æ’å…¥ä½ç½®çš„èŠ‚ç‚¹p.next</li>
<li>â‘¢å°†pçš„æŒ‡é’ˆåŸŸæŒ‡å‘æ–°çš„èŠ‚ç‚¹x</li>
<li>é¡ºåºä¸èƒ½å˜ï¼å¦åˆ™å¯èƒ½å¼•å‘å†…å­˜æ³„æ¼ï¼ˆä½ æƒ³ç”¨å·²ç»ç”¨ä¸äº†ï¼Œä½†ç³»ç»Ÿå´ä»¥ä¸ºä½ åœ¨ç”¨ï¼‰</li>
</ul>
</li>
</ul>
<p>  åˆ é™¤</p>
<ul>
<li><p>èµ°åˆ°å¾…åˆ é™¤èŠ‚ç‚¹ä½ç½®çš„<strong>å‰ä¸€ä¸ª</strong>ä½ç½®</p>
<p>ç¿»è½¬</p>
</li>
<li><p>æ–¹æ³•ä¸€</p>
<ul>
<li>ç”¨ä¸€ä¸ªæ–°é“¾è¡¨å­˜ï¼Œä½¿ç”¨å¤´æ’æ³•</li>
<li>ä¸æ–­åœ¨index = 0 çš„ä½ç½®æ’å…¥èŠ‚ç‚¹</li>
<li>ä¸è¶³ï¼šæµªè´¹ç©ºé—´ï¼Œéº»çƒ¦</li>
</ul>
</li>
<li>æ–¹æ³•äºŒ<ul>
<li>åŸåœ°ç¿»è½¬ï¼Œç”¨ä¸¤ä¸ªå˜é‡å€’ï¼Œä¹Ÿæ˜¯å¤´æ’æ³•</li>
<li>å‰æï¼šæ¯æ¬¡æ“ä½œä¸è¦é€ æˆå†…å­˜æ³„æ¼</li>
<li>NULLåœ°å€è¿˜æ˜¯åœ¨æœ€åé¢ï¼Œä¸ä¼šç¿»è½¬</li>
</ul>
</li>
</ul>
<pre class="line-numbers language-c" data-language="c"><code class="language-c">
#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;
#include &lt;time.h&gt;

#define COLOR(a, b) "\033[" #b "m" a "\033[0m"
#define GREEN(a) COLOR(a, 32)

//é“¾è¡¨çš„ç»“æ„å®šä¹‰
typedef struct ListNode {
    int data;
    struct ListNode *next;//struct ç»“æ„ä½“ç±»å‹å…³é”®å­—  è™½ç„¶æˆ‘ä»¬é‡å‘½åäº†ListNode ä½†æ˜¯12è¡Œè¿˜æ²¡æœ‰ç”Ÿæ•ˆ
} ListNode;

//é“¾è¡¨æ•´ä½“çš„ç»“æ„å®šä¹‰
typedef struct List {
    //ListNode *head;//å¤´æŒ‡é’ˆ å› ä¸ºæ’å…¥çš„åŸåˆ™æ˜¯ åœ¨å¾…æ’å…¥å…ƒç´ å‰è¿›è¡Œæ’å…¥ å½“é“¾è¡¨ä¸ºç©ºæ—¶ å¾ˆä¸å¥½æ“ä½œ
    ListNode head;//è™šæ‹Ÿå¤´èŠ‚ç‚¹ ä¸ºäº†æ–¹ä¾¿æ’å…¥å’Œåˆ é™¤ç¬¬ä¸€ä¸ªå…ƒç´   
    int length;
} List;

//é“¾è¡¨çš„ç»“æ„æ“ä½œ

//åˆå§‹åŒ–
ListNode *getNewNode(int);
List *getLinkList();
void clear_node(ListNode *);
void clear(List*);
int insert(List *, int, int);
int erase(List *, int);
void output(List *);
void reverse(List *);

int main() {
    srand(time(0));
    #define max_op 20
    List *l = getLinkList();
    for (int i = 0; i &lt; max_op; i++) {
        int val = rand() % 100;
        int ind = rand() % (l-&gt;length + 3) - 1;
        int op = rand() % 4;
        switch (op) {
            case 0:
            case 1: {
                printf("insert %d at %d to List = %d\n", val, ind, insert(l, ind, val));
            } break;
            case 2: {
                printf("erase a iterm at %d from List = %d\n", ind, erase(l, ind));
            } break;
            case 3: {
                printf(GREEN("reverse the list!\n"));
                reverse(l);
            } break;
        }
        output(l), printf("\n");
    } 
    #undef max_op
    clear(l);
    return 0;
}


ListNode *getNewNode(int val) {
    ListNode *p = (ListNode *)malloc(sizeof(ListNode));
    p-&gt;data = val;
    p-&gt;next = NULL;
    return p;
}

List *getLinkList() {
    List *l = (List *)malloc(sizeof(List));
    l-&gt;head.next = NULL;//å› ä¸ºè™šæ‹Ÿå¤´èŠ‚ç‚¹æ˜¯ä¸€ä¸ªæ²¡æœ‰å®é™…æ„ä¹‰çš„èŠ‚ç‚¹ æ‰€ä»¥è™šæ‹Ÿå¤´èŠ‚ç‚¹æŒ‡å‘çš„åé¢çš„é‚£ä¸ªèŠ‚ç‚¹æ‰æ˜¯çœŸçš„å¤´èŠ‚ç‚¹
    l-&gt;length = 0;
    return l;
}

int insert(List *l, int ind, int val) {
    if (l == NULL) return 0;
    if (ind &lt; 0 || ind &gt; l-&gt;length) return 0;//ä¸‹æ ‡æ˜¯0 ~ length-1
    ListNode *p = &amp;(l-&gt;head), *node = getNewNode(val);
    while (ind--) p = p-&gt;next;
    node-&gt;next = p-&gt;next;
    p-&gt;next = node;
    l-&gt;length += 1;
    return 1;
}

int erase(List *l, int ind) {
    if (l == NULL) return 0;
    if (ind &lt; 0 || ind &gt;= l-&gt;length) return 0;
    ListNode *p = &amp;(l-&gt;head), *q;
    while (ind--) p = p-&gt;next;
    q = p-&gt;next;
    p-&gt;next = q-&gt;next;
    free(q);
    l-&gt;length -= 1;
    return 1;
}

//é“¾è¡¨åŸåœ°ç¿»è½¬ å…ˆå°†å¤´èŠ‚ç‚¹æŒ‡å‘ç©º ç”¨p å’Œ qå»ç»´æŠ¤æ•´ä¸ªé“¾è¡¨
void reverse(List *l) {
    if (l == NULL) return;
    ListNode *p = l-&gt;head.next, *q;
    l-&gt;head.next = NULL;
    while (p) {
        q = p-&gt;next;
        p-&gt;next = l-&gt;head.next;
        l-&gt;head.next = p;
        p = q;
    }
    return ;
}


void output(List *l) {
    if (l == NULL) return ;
    printf("List(%d) = [", l-&gt;length);
    for (ListNode *p = l-&gt;head.next; p; p = p-&gt;next) {
        printf("%d-&gt;", p-&gt;data);
    }
    printf("NULL]\n");
    return ;
}

void clear_node(ListNode *node) {
    if (node == NULL) return;
    free(node);
    return;
}

void clear(List *l) {
    if (l == NULL) return;
    ListNode *p = l-&gt;head.next, *q;//qä¸­é—´å˜é‡
    while (p) {
        q = p-&gt;next;
        clear_node(p);
        p = q;
    }
    free(l);
    return ;
}<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<ul>
<li>â­åˆå§‹åŒ–æ•°æ®ç»“æ„[æ¯”å¦‚é“¾è¡¨ã€é“¾è¡¨ç»“ç‚¹]æ—¶ï¼Œä¸ºä»€ä¹ˆè¦åŠ¨æ€å¼€è¾Ÿå†…å­˜[ç”¨mallocç­‰]ï¼Œè€Œä¸æ˜¯å®šä¹‰æ™®é€šå˜é‡ï¼Ÿ<ul>
<li>é¦–å…ˆï¼Œæ’é™¤ç›²åŒºï¼šç”¨æŒ‡é’ˆæ‰èƒ½æ¥å—mallocè¿”å›çš„åœ°å€ï¼Œä½†æŒ‡é’ˆä¹Ÿèƒ½æŒ‡å‘æ™®é€šå˜é‡</li>
<li>å…³é”®ï¼šã€mallocç”³è¯·çš„å†…å­˜åœ¨å †ç©ºé—´ï¼Œæ™®é€šå˜é‡å®šä¹‰åœ¨æ ˆç©ºé—´(åœ¨å‡½æ•°é‡Œé¢å®šä¹‰çš„)ã€‘</li>
<li>æ ˆç©ºé—´ï¼šå¤§å°åªæœ‰8MBï¼›å‡ºäº†å‡½æ•°[ä½œç”¨åŸŸ]å˜é‡å°±è¢«è‡ªåŠ¨é‡Šæ”¾äº†</li>
<li>å †ç©ºé—´ï¼šå¯åˆ†é…<strong>å¤§å†…å­˜</strong>ï¼›å˜é‡<strong>ç”Ÿå‘½å‘¨æœŸé•¿</strong>ï¼Œä¸€èˆ¬éœ€æ‰‹åŠ¨é‡Šæ”¾</li>
</ul>
</li>
<li>â“è™šæ‹Ÿå¤´ç»“ç‚¹å®šä¹‰ä¸ºæ™®é€šå˜é‡å’ŒæŒ‡é’ˆå˜é‡çš„åŒºåˆ«<ul>
<li>ä¸ªäººç†è§£ï¼Œç”¨æŒ‡é’ˆå˜é‡ï¼Œæ˜¯ä¸ºäº†æ¥æ”¶mallocè¿”å›çš„åœ°å€</li>
<li>è€Œè™šæ‹Ÿå¤´ç»“ç‚¹ï¼Œåœ¨è¿™åªæ˜¯ä¸€ä¸ªæŒ‡ç¤ºä½œç”¨ï¼Œä¸éœ€è¦å¤§ç©ºé—´ï¼Œæ‰€ä»¥ç”¨æ™®é€šå˜é‡å³å¯è€Œ</li>
</ul>
</li>
</ul>
<h2 id="æ ˆä¸é˜Ÿåˆ—"><a href="#æ ˆä¸é˜Ÿåˆ—" class="headerlink" title="æ ˆä¸é˜Ÿåˆ—"></a>æ ˆä¸é˜Ÿåˆ—</h2><p>é˜Ÿåˆ—    å…ˆè¿›å…ˆå‡ºçš„æ•°æ®ç»“æ„ï¼ˆFirst in First outï¼‰ ä»é˜Ÿå°¾åŠ å…¥ï¼ˆpushï¼‰ä¸€ä¸ªå…ƒç´  ä»é˜Ÿé¦–å¼¹å‡ºï¼ˆpopï¼‰ä¸€ä¸ªå…ƒç´ </p>
<p><img src="/img/loading.gif" data-original="https://i.loli.net/2020/11/20/3EqzIo9YdxFZyJD.png" style="zoom: 50%;"></p>
<p>headè®°å½•é˜Ÿé¦–å…ƒç´ çš„ä½ç½® tailè®°å½•é˜Ÿå°¾å…ƒç´ çš„ä½ç½®</p>
<ul>
<li>å‡ºé˜Ÿï¼š è®©headæŒ‡å‘ä¸‹ä¸€ä¸ªå…ƒç´   é•¿åº¦å’Œå®¹é‡éƒ½ä¸å˜</li>
</ul>
<p><img src="/img/loading.gif" data-original="https://i.loli.net/2020/11/20/XKRBqOWmpY4AjPk.png" style="zoom: 33%;"></p>
<ul>
<li>å…¥é˜Ÿï¼šè®©tailæŒ‡å‘åä¸€ä¸ªåœ°å€ åœ¨æ­¤åœ°å€ä¸­è¿›è¡ŒåŠ å…¥å…ƒç´  </li>
</ul>
<p><img src="/img/loading.gif" data-original="https://i.loli.net/2020/11/20/kXSwFfRxU2ZLaTi.png" style="zoom:33%;"></p>
<ul>
<li><p>å‡æº¢å‡ºé—®é¢˜ï¼šå½“é˜Ÿåˆ—å¦‚ä¸‹å›¾æ—¶ å¼¹å‡ºäº†3ä¸ªå…ƒç´ ä¸”åŠ å…¥äº†4ä¸ªå…ƒç´ ä½¿å¾—é˜Ÿåˆ—æ»¡äº† æˆ‘ä»¬å¯ä»¥å‘ç°<code>tail</code>å·²ç»èµ°åˆ°äº†æœ«å°¾ å¦‚æœæ­¤æ—¶æˆ‘ä»¬è¿˜æƒ³æ’å…¥ä¸€ä¸ªå…ƒç´ 10 è¯¥æ€ä¹ˆåŠå‘¢ï¼Ÿ<br>  å…¶å®ä¹‹å‰æˆ‘ä»¬å¼¹å‡ºäº†3ä¸ªå…ƒç´  è¿™3ä¸ªç©ºé—´æ˜¯å¯ä»¥ä½¿ç”¨çš„ é‚£ä¹ˆæˆ‘ä»¬æ˜¯å¦å¯ä»¥å°†tailæŒ‡å‘è¢«å¼¹å‡ºçš„å…ƒç´ çš„åœ°å€ï¼ˆé˜Ÿåˆ—çš„å¤´éƒ¨ï¼‰å‘¢ï¼Ÿ </p>
<p>  â€‹    ç­”æ¡ˆæ˜¯å¯ä»¥çš„  å½“æˆ‘ä»¬è¿™ä¹ˆåšæ—¶ æ­¤æ—¶çš„é˜Ÿåˆ—å°±å˜æˆäº†==å¾ªç¯é˜Ÿåˆ—==</p>
<p>  â€‹    å¾ªç¯é˜Ÿåˆ—å°±æ˜¯ç”¨äºè§£å†³è¿™ç§å‡æº¢å‡ºé—®é¢˜çš„</p>
</li>
</ul>
<p><img src="/img/loading.gif" data-original="https://i.loli.net/2020/11/20/iCZMTqLX2KJuUVt.png" style="zoom:33%;"></p>
<p>é‚£ä¹ˆæˆ‘ä»¬å¦‚ä½•å»åˆ¤æ–­ä¸€ä¸ªé˜Ÿåˆ—æ˜¯å¦æ˜¯æ»¡çš„å‘¢ï¼Ÿ åœ¨å¾ªç¯é˜Ÿåˆ—ä¸­æˆ‘ä»¬è¿˜éœ€è¦åŠ å…¥ä¸€ä¸ªå­—æ®µ<code>count</code>ç”¨äºè®°å½•æœ‰æ•ˆå…ƒç´ ä¸ªæ•°</p>
<p>==æ™®é€šé˜Ÿåˆ—==</p>
<pre class="line-numbers language-c" data-language="c"><code class="language-c">
#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;

#include &lt;time.h&gt;
typedef struct Queue {
    int *data;
    int head, tail, length;//length å®¹é‡
} Queue;

Queue *init(int n) {
    Queue *q = (Queue *)malloc(sizeof(Queue));
    q-&gt;data = (int *)malloc(sizeof(int) * n);
    q-&gt;length = n;
    q-&gt;head = q-&gt;tail = 0;//tailæœ‰ä¸¤ç§å®ç°æ–¹å¼ 1.æŒ‡å‘æœ€åä¸€ä¸ªå…ƒç´ çš„åœ°å€ 2.æŒ‡å‘æœ€åä¸€ä¸ªå…ƒç´ çš„ä¸‹ä¸€ä¸ªåœ°å€ è¿™é‡Œæˆ‘ä»¬é€‰æ‹©ç¬¬äºŒç§
    return q;
}

int front(Queue *q) {
    //if (q == NULL) return 0;
    return q-&gt;data[q-&gt;head];
}

int empty(Queue *q) {
    return q-&gt;head == q-&gt;tail; //tail æŒ‡å‘çš„æ˜¯æœ€åä¸€ä¸ªå…ƒç´ çš„ä¸‹ä¸€ä¸ª
}

int push(Queue *q, int val) {
    if (q == NULL) return 0;
    if (q-&gt;tail == q-&gt;length) return 0;
    q-&gt;data[q-&gt;tail++] = val;//å°†valæ”¾å…¥tailæŒ‡å‘çš„ä½ç½® ç„¶åå°†tail++æ“ä½œ
    return 1;
}

int pop(Queue *q) {
    if (q == NULL) return 0;
    if (empty(q)) return 0;//åˆ¤æ–­å½“å‰é˜Ÿåˆ—æ˜¯å¦ä¸ºç©º 
    q-&gt;head++;
    return 1;
}

void output(Queue *q) {
    if (q == NULL) return;
    printf("Queue : [");
    for (int i = q-&gt;head, j = 0; i &lt; q-&gt;tail; i++, j++) {
        j &amp;&amp; printf(", "); //æ‰“å°é€—å·å’Œç©ºæ ¼
        printf("%d", q-&gt;data[i]);
    }
    printf("]\n");
    return ;
}

void clear(Queue *q) {
    if (q == NULL) return ;
    free(q-&gt;data);
    free(q);
    return;
}

int main() {
    srand(time(0));
    #define max_op 20
    Queue *q = init(max_op);
    for (int i = 0; i &lt; max_op; i++) {
        int val = rand() % 100;
        int op = rand() % 4;
        switch (op) {
            case 0:
            case 1:
            case 2: {
                printf("push %d to the Queue! ", val);
                printf("result = %d\n", push(q, val));
            } break;
            case 3: {
                printf("pop %d from the Queue! ", front(q));
                printf("result = %d\n", pop(q));
            } break;
        }
        output(q), printf("\n");
    }
    #undef max_op
    clear(q);
    return 0;
}<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>å¾ªç¯é˜Ÿåˆ—</p>
<pre class="line-numbers language-c" data-language="c"><code class="language-c">
#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;
#include &lt;time.h&gt;


#define COLOR(a, b) "\033[" #b "m" a "\033[0m"
#define GREEN(a) COLOR(a, 32)

typedef struct Queue {
    int *data;//é˜Ÿåˆ—æ•°æ®åŸŸ
    int head, tail, length;//length å®¹é‡
    int cnt;//å¾ªç¯é˜Ÿåˆ—çš„å­—æ®µ
} Queue;

Queue *init(int n) {
    Queue *q = (Queue *)malloc(sizeof(Queue));
    q-&gt;data = (int *)malloc(sizeof(int) * n);
    q-&gt;length = n;
    q-&gt;head = q-&gt;tail = 0;//tailæœ‰ä¸¤ç§å®ç°æ–¹å¼ 1.æŒ‡å‘æœ€åä¸€ä¸ªå…ƒç´ çš„åœ°å€ 2.æŒ‡å‘æœ€åä¸€ä¸ªå…ƒç´ çš„ä¸‹ä¸€ä¸ªåœ°å€ï¼Œæ–¹ä¾¿å¾ªç¯é˜Ÿåˆ—åˆ¤ç©º
    q-&gt;cnt = 0;
    return q;
}

int front(Queue *q) {
    //if (q == NULL) return 0;
    return q-&gt;data[q-&gt;head];
}

int empty(Queue *q) {
    // return q-&gt;head == q-&gt;tail; //tail æŒ‡å‘çš„æ˜¯æœ€åä¸€ä¸ªå…ƒç´ çš„ä¸‹ä¸€ä¸ª 
    return q-&gt;cnt == 0;//å¾ªç¯é˜Ÿåˆ—åˆ¤ç©º
}


//é‡åˆ°çœŸæº¢å‡º
//reallocä¸é€‚ç”¨ å°½ç®¡å®ƒèƒ½é‡æ–°ç»™æˆ‘ä»¬åˆ†é…ä¸€æ®µå¤§çš„ç©ºé—´ ä½†æ˜¯è¿›è¡Œæ•°æ®æ‹·è´æ—¶æ˜¯ä»0åœ°å€åˆ°å°¾åœ°å€è¿›è¡Œæ‹·è´ tailå¯èƒ½åœ¨headçš„å‰é¢
int expand(Queue *q) {
    int extr_size = q-&gt;length;
    int *p;
    while (extr_size) {
        p = (int *)malloc(sizeof(int) * (q-&gt;length + extr_size));
        if (p) break;
        extr_size &gt;&gt;= 1;
    }
    if (p == NULL) return 0;
    for (int i = q-&gt;head, j = 0; j &lt; q-&gt;cnt; j++) {
        p[j] = q-&gt;data[(i + j) % q-&gt;length];
    }
    free(q-&gt;data);
    q-&gt;data = p;
    q-&gt;length += extr_size;
    q-&gt;head = 0;
    q-&gt;tail = q-&gt;cnt;
    return 1;
}

int push(Queue *q, int val) {
    if (q == NULL) return 0;
    //if (q-&gt;tail == q-&gt;length) return 0;
    if (q-&gt;cnt == q-&gt;length) {
        if (!expand(q)) return 0; //æ‰©å®¹æ“ä½œ
        printf(GREEN("expand successfully! Queue-&gt;size(%d)\n"), q-&gt;length);
    }
    q-&gt;data[q-&gt;tail++] = val;//å°†valæ”¾å…¥tailæŒ‡å‘çš„ä½ç½® ç„¶åå°†tail++æ“ä½œ
    if (q-&gt;tail == q-&gt;length) q-&gt;tail = 0;
    q-&gt;cnt += 1;
    return 1;
}

int pop(Queue *q) {
    if (q == NULL) return 0;
    if (empty(q)) return 0;//åˆ¤æ–­å½“å‰é˜Ÿåˆ—æ˜¯å¦ä¸ºç©º 
    q-&gt;head++;
    if (q-&gt;head == q-&gt;length) q-&gt;head = 0;//headä¹Ÿå¯èƒ½è¶Šç•Œ
    q-&gt;cnt -= 1;
    return 1;
}

void output(Queue *q) {
    if (q == NULL) return;
    printf("Queue : [");
    for (int i = q-&gt;head, j = 0; j &lt; q-&gt;cnt; i++, j++) {
        j &amp;&amp; printf(", "); //æ‰“å°é€—å·å’Œç©ºæ ¼
        printf("%d", q-&gt;data[i % q-&gt;length]); //å–æ¨¡å¾—åˆ°çœŸå®çš„ä½ç½®
    }
    printf("]\n");
    return ;
}

void clear(Queue *q) {
    if (q == NULL) return ;
    free(q-&gt;data);
    free(q);
    return;
}

int main() {
    srand(time(0));
    #define max_op 20
    Queue *q = init(2);
    for (int i = 0; i &lt; max_op; i++) {
        int val = rand() % 100;
        int op = rand() % 4;
        switch (op) {
            case 0:
            case 1:
            case 2: {
                printf("push %d to the Queue! ", val);
                printf("result = %d\n", push(q, val));
            } break;
            case 3: {
                printf("pop %d from the Queue! ", front(q));
                printf("result = %d\n", pop(q));
            } break;
        }
        output(q), printf("\n");
    }
    #undef max_op
    clear(q);
    return 0;
}
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>==æ ˆ==</p>
<ul>
<li>ä¸€ç§å…ˆè¿›åå‡ºçš„æ•°æ®ç»“æ„ ï¼ˆFILOï¼‰ <ul>
<li>å¦‚æœæ˜¯ä¸€ä¸ªç©ºæ ˆ top = -1 å› ä¸ºé¡ºåºç»“æ„ä¸‹æ ‡ä»0~n-1è¿›è¡Œè®¿é—®</li>
</ul>
</li>
</ul>
<p><img src="/img/loading.gif" data-original="https://i.loli.net/2020/11/20/ZLvfEimw6OVbrn7.png" style="zoom: 33%;"></p>
<ul>
<li><p>å‡ºæ ˆ</p>
<ul>
<li><p>å°†æ ˆé¡¶æŒ‡é’ˆå‘ä¸‹ç§»åŠ¨ä¸€ä½</p>
</li>
<li><p>å‡ºæ ˆè¦è¿›è¡Œåˆ¤ç©ºæ“ä½œ</p>
<p>  <img src="/img/loading.gif" data-original="https://i.loli.net/2020/11/20/UM3SzBDqkFVtQH7.png" style="zoom:33%;"></p>
</li>
</ul>
</li>
<li><p>å…¥æ ˆ</p>
<ul>
<li>å°†æ ˆé¡¶æŒ‡é’ˆå‘ä¸Šç§»åŠ¨</li>
<li>è¦è¿›è¡Œåˆ¤æ–­è¾¹ç•Œæ“ä½œ</li>
</ul>
</li>
</ul>
<h3 id="æ‹¬å·åŒ¹é…é—®é¢˜"><a href="#æ‹¬å·åŒ¹é…é—®é¢˜" class="headerlink" title="æ‹¬å·åŒ¹é…é—®é¢˜"></a>æ‹¬å·åŒ¹é…é—®é¢˜</h3><p><img src="/img/loading.gif" data-original="https://i.loli.net/2020/11/20/6BQE7XzOlnkr1gI.png" style="zoom: 33%;"></p>
<pre class="line-numbers language-c" data-language="c"><code class="language-c">
struct Stack {
    char *val;
    int p, maxSize;
};

void initStack(struct Stack *s, int maxSize) {
    s-&gt;val = malloc(maxSize);
    s-&gt;p = 0;
}

bool emptyStack(struct Stack *s) {
    return !(s-&gt;p);
}

void pushStack(struct Stack *s, char c) {
    s-&gt;val[s-&gt;p++] = c;
}

void popStack(struct Stack *s) {
    --(s-&gt;p);
}

char seekStack(struct Stack *s) {
    return s-&gt;val[s-&gt;p - 1];
}

bool isValid(char * s){
    struct Stack stack;
    int len = strlen(s);
    initStack(&amp;stack, len);
    for (int i = 0; i &lt; len; i++) {
        switch (s[i]) {
            case '(':
            case '[':
            case '{':
                pushStack(&amp;stack, s[i]);
                break;
            case ')':
                if (emptyStack(&amp;stack)) return false;
                if (seekStack(&amp;stack) != '(') return false;
                popStack(&amp;stack);
                break;
            case ']':
                if (emptyStack(&amp;stack)) return false;
                if (seekStack(&amp;stack) != ']') return false;
                popStack(&amp;stack);
                break;
            case '}':
                if (emptyStack(&amp;stack)) return false;
                if (seekStack(&amp;stack) != '}') return false;
                popStack(&amp;stack);
                break;
        }
    }
    return emptyStack(&amp;stack);
}<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>æ ˆçš„ä»£ç </p>
<pre class="line-numbers language-c" data-language="c"><code class="language-c">
#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;
#include &lt;time.h&gt;

#define COLOR(a, b) "\033[" #b "m" a "\033[0m"
#define GREEN(a) COLOR(a, 32)

typedef struct Stack {
    int *data;
    int size, top;//sizeå®¹é‡ topæ ˆé¡¶æŒ‡é’ˆ
} Stack;

Stack *init(int n) {
    Stack *s = (Stack *)malloc(sizeof(Stack));
    s-&gt;data = (int *)malloc(sizeof(int) * n);
    s-&gt;size = n;
    s-&gt;top = -1;
    return s;
}

int top(Stack *s) {
    return s-&gt;data[s-&gt;top];
}

int empty(Stack *s) {
    return s-&gt;top == -1;
}

int expand(Stack *s) {
    int extr_size = s-&gt;size;
    int *p;
    while (extr_size) {
        p = (int *)realloc(s-&gt;data, sizeof(int) * (s-&gt;size + extr_size));
        if (p) break;
        extr_size &gt;&gt;= 1;
    }
    if (p == NULL) return 0;
    s-&gt;data = p;
    s-&gt;size += extr_size;
    return 1;
}

int push(Stack *s, int val) {
    if (s == NULL) return 0;
    if (s-&gt;top == s-&gt;size - 1) {
        if (!expand(s)) return 0;
        printf(GREEN("expand successfully! stack-&gt;size = (%d)\n"), s-&gt;size);
    }
    s-&gt;data[++(s-&gt;top)] = val;
    return 1;
}

int pop(Stack *s) {
    if (s == NULL) return 0;
    if (empty(s)) return 0;
    s-&gt;top -= 1;
    return 1;
}

void output(Stack *s) {
    if (s == NULL) return ;
    printf("[");
    for (int i = 0; i &lt;= s-&gt;top; i++) {
        i &amp;&amp; printf(", ");
        printf("%d", s-&gt;data[i]);
    }
    printf("]\n");
    return ;
}

void clear(Stack *s) {
    if (s == NULL ) return;
    free(s-&gt;data);
    free(s);
    return ;
}

int main() {
    srand(time(0));
    #define max_op 20
    Stack *s = init(4);
    int flag;
    for (int i = 0; i &lt; max_op; i++) {
        int val = rand() % 100;
        int op = rand() % 4;
        switch (op) {
            case 0:
            case 1:
            case 2: {
                printf("push %d to the Stack = %d\n", val, push(s, val));
            } break;
            case 3: {
                flag = !empty(s);
                flag &amp;&amp; printf("pop %d frome the Stack", top(s));
                printf("result = %d\n", pop(s));
            } break;
        }
        output(s), printf("\n");
    }
    #undef max_op
    clear(s);
    return 0;
}<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="æ ‘ä¸äºŒå‰æ ‘"><a href="#æ ‘ä¸äºŒå‰æ ‘" class="headerlink" title="æ ‘ä¸äºŒå‰æ ‘"></a>æ ‘ä¸äºŒå‰æ ‘</h2><p>æ ‘çš„ç»„æˆï¼šç»“ç‚¹ + è¾¹</p>
<ul>
<li>ç»“ç‚¹ ğŸ‘‰ é›†åˆï¼Œè¾¹ ğŸ‘‰ å…³ç³»</li>
<li>æ ¹ç»“ç‚¹ï¼šå…¨é›†ï¼›å­ç»“ç‚¹ï¼šå­é›†<ul>
<li>æ ¹ç»“ç‚¹çš„æ‰€æœ‰å­ç»“ç‚¹çš„é›†åˆå¹¶é›† = å…¨é›†</li>
<li>ã€æ€æƒ³ã€‘å¤§é—®é¢˜æŠ½è±¡ä¸ºæ ‘ï¼Œå°é—®é¢˜æŠ½è±¡ä¸ºå­ç»“ç‚¹</li>
</ul>
</li>
</ul>
<p><img src="/img/loading.gif" data-original="https://i.loli.net/2020/11/20/AwHZhstcYrVjqCl.png" style="zoom:33%;"></p>
<ul>
<li>æ·±åº¦ã€é«˜åº¦<ul>
<li>æ ‘çš„æ·±åº¦å’Œé«˜åº¦æ˜¯ä¸€ä¸ªå€¼ï¼šæœ€å¤§å±‚æ•°</li>
<li>ç»“ç‚¹çš„æ·±åº¦å’Œé«˜åº¦ä¸ä¸€æ ·<ul>
<li>æ·±åº¦ï¼šä»æ ¹ç»“ç‚¹å¾€ä¸‹æ•°ï¼Œè¯¥ç»“ç‚¹æ˜¯ç¬¬å‡ å±‚</li>
<li>é«˜åº¦ï¼šä»æœ€æ·±çš„å±‚æ•°å¾€ä¸Šæ•°ï¼Œè¯¥ç»“ç‚¹æ˜¯ç¬¬å‡ å±‚</li>
</ul>
</li>
</ul>
</li>
<li>åº¦ï¼šæœ‰å‡ ä¸ªå­å­©å­<ul>
<li>èŠ‚ç‚¹çš„åº¦ï¼šä¸€ä¸ªèŠ‚ç‚¹å«æœ‰çš„å­æ ‘çš„ä¸ªæ•°ç§°ä¸ºè¯¥èŠ‚ç‚¹çš„åº¦ï¼›</li>
<li>å¶èŠ‚ç‚¹æˆ–ç»ˆç«¯èŠ‚ç‚¹ï¼šåº¦ä¸º0çš„èŠ‚ç‚¹ç§°ä¸ºå¶èŠ‚ç‚¹ï¼›</li>
<li>éç»ˆç«¯èŠ‚ç‚¹æˆ–åˆ†æ”¯èŠ‚ç‚¹ï¼šåº¦ä¸ä¸º0çš„èŠ‚ç‚¹  ï¼›</li>
<li>åŒäº²èŠ‚ç‚¹æˆ–çˆ¶èŠ‚ç‚¹ï¼šè‹¥ä¸€ä¸ªèŠ‚ç‚¹å«æœ‰å­èŠ‚ç‚¹ï¼Œåˆ™è¿™ä¸ªèŠ‚ç‚¹ç§°ä¸ºå…¶å­èŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹ï¼›</li>
<li>å­©å­èŠ‚ç‚¹æˆ–å­èŠ‚ç‚¹ï¼šä¸€ä¸ªèŠ‚ç‚¹å«æœ‰çš„å­æ ‘çš„æ ¹èŠ‚ç‚¹ç§°ä¸ºè¯¥èŠ‚ç‚¹çš„å­èŠ‚ç‚¹ï¼›</li>
<li>å…„å¼ŸèŠ‚ç‚¹ï¼šå…·æœ‰ç›¸åŒçˆ¶èŠ‚ç‚¹çš„èŠ‚ç‚¹äº’ç§°ä¸ºå…„å¼ŸèŠ‚ç‚¹ï¼›</li>
<li>èŠ‚ç‚¹çš„å±‚æ¬¡ï¼šä»æ ¹å¼€å§‹å®šä¹‰èµ·ï¼Œæ ¹ä¸ºç¬¬1å±‚ï¼Œæ ¹çš„å­èŠ‚ç‚¹ä¸ºç¬¬2å±‚ï¼Œä»¥æ­¤ç±»æ¨ï¼›</li>
<li>æ ‘çš„é«˜åº¦æˆ–æ·±åº¦ï¼šæ ‘ä¸­èŠ‚ç‚¹çš„æœ€å¤§å±‚æ¬¡ï¼›</li>
<li>å ‚å…„å¼ŸèŠ‚ç‚¹ï¼šåŒäº²åœ¨åŒä¸€å±‚çš„èŠ‚ç‚¹äº’ä¸ºå ‚å…„å¼Ÿï¼›</li>
<li>èŠ‚ç‚¹çš„ç¥–å…ˆï¼šä»æ ¹åˆ°è¯¥èŠ‚ç‚¹æ‰€ç»åˆ†æ”¯ä¸Šçš„æ‰€æœ‰èŠ‚ç‚¹ï¼›</li>
<li>å­å­™ï¼šä»¥æŸèŠ‚ç‚¹ä¸ºæ ¹çš„å­æ ‘ä¸­ä»»ä¸€èŠ‚ç‚¹éƒ½ç§°ä¸ºè¯¥èŠ‚ç‚¹çš„å­å­™ã€‚</li>
<li>æ£®æ—ï¼šç”±mï¼ˆm&gt;=0ï¼‰æ£µäº’ä¸ç›¸äº¤çš„æ ‘çš„é›†åˆç§°ä¸ºæ£®æ—ã€‚</li>
</ul>
</li>
<li>â­ã€é‡è¦å…¬å¼ã€‘ç»“ç‚¹æ•° = è¾¹æ•° + 1</li>
</ul>
<p><img src="/img/loading.gif" data-original="https://i.loli.net/2020/11/20/qg7FrRpnvO8Gc42.png" style="zoom:33%;"></p>
<ul>
<li>äºŒå‰æ ‘<ul>
<li>ä»»ä½•æ ‘éƒ½å¯ä»¥å˜æˆä¸€é¢—äºŒå‰æ ‘</li>
</ul>
</li>
<li><img src="/img/loading.gif" data-original="https://i.loli.net/2020/11/20/5ZjCn74VBRxJUtN.png" style="zoom:33%;"></li>
</ul>
<ul>
<li>è¿™æ˜¯ä¸€é¢—ä¸‰å‰æ ‘  å¯ä»¥æŠŠå®ƒå˜æˆäºŒå‰æ ‘äºŒè¿›åˆ¶å¯ä»¥è½¬æ¢æˆä»»ä½•è¿›åˆ¶ï¼ŒäºŒå‰æ ‘åŒç†<ul>
<li>é¦–å…ˆç®€å•</li>
<li>ä¸”å¯ä»¥è¡¨ç¤ºæ‰€æœ‰çš„æ ‘å½¢ç»“æ„<ul>
<li>æ–¹æ³•ï¼šå·¦å­©å­ã€å³å…„å¼Ÿæ³•ï¼Œåˆç§°åå­—é“¾è¡¨æ³•</li>
<li>ä»ä¸Šå¾€ä¸‹ï¼Œä»å·¦å¾€å³ï¼Œç»“ç‚¹çš„å­©å­æ”¾åœ¨å·¦è¾¹ï¼Œç»“ç‚¹çš„ç›¸é‚»å…„å¼Ÿæ”¾åœ¨å³è¾¹</li>
</ul>
</li>
</ul>
</li>
<li><img src="/img/loading.gif" data-original="https://i.loli.net/2020/11/20/FUlzSDVTWxOC8Z3.png" style="zoom:33%;"></li>
</ul>
<p>â­ã€é‡è¦å…¬å¼ã€‘äºŒå‰æ ‘ä¸­ï¼Œåº¦ä¸º0çš„ç»“ç‚¹æ¯”åº¦ä¸º2çš„ç»“ç‚¹å¤š1ä¸ª</p>
<ul>
<li>åˆ©ç”¨å¦ä¸€é‡è¦å…¬å¼ï¼šç»“ç‚¹æ•° = è¾¹æ•° + 1</li>
<li>ä»¤niè¡¨ç¤ºåº¦ä¸ºiçš„ç»“ç‚¹ä¸ªæ•°</li>
<li>åˆ™ï¼š[ç»“ç‚¹æ•°] n0 + n1 + n2 = n1 + 2 * n2 + 1 [è¾¹æ•° + 1]</li>
<li>å¾—ï¼šn0 = n2 + 1</li>
</ul>
<ul>
<li>å®Œå…¨äºŒå‰æ ‘ï¼šåªå·®æœ€åä¸€ä¸ªå³å­©å­</li>
<li>æ»¡äºŒå‰æ ‘ï¼š åªæœ‰åº¦ä¸º0 å’Œåº¦ä¸º2 çš„èŠ‚ç‚¹</li>
<li>å®Œç¾äºŒå‰æ ‘ï¼š ä¸å¤šä¸å°‘å¾ˆå®Œç¾</li>
</ul>
<p><img src="/img/loading.gif" data-original="https://i.loli.net/2020/11/20/8mJlVoA5ErQ394W.png" style="zoom: 33%;"></p>
<p><img src="/img/loading.gif" data-original="https://i.loli.net/2020/11/20/iDOCLrVKkWxp96e.png" style="zoom:33%;"></p>
<ul>
<li>å¯¹äºä¸€é¢—äºŒå‰æ ‘<ul>
<li>è‹¥æ ¹èŠ‚ç‚¹è¡¨ç¤ºi<ul>
<li>å·¦å­©å­ä¸º 2*i</li>
<li>å³å­©å­ä¸º 2*i + 1 </li>
</ul>
</li>
</ul>
</li>
</ul>
<p><strong>==binary_tree==</strong></p>
<ul>
<li>å®ç°çš„æ˜¯äºŒå‰æŸ¥æ‰¾æ ‘ï¼ˆäºŒå‰æ’åºæ ‘ï¼‰</li>
<li><strong>ç»´æŠ¤çš„æ€§è´¨</strong>: å¯¹äºä¸€ä¸ªä¸‰å…ƒç»„æ¥è¯´ğŸ‘‡   <ul>
<li>å·¦å­©å­å°äºæ ¹èŠ‚ç‚¹  </li>
<li>å³å­©å­å¤§äºæ ¹èŠ‚ç‚¹</li>
<li>å¯¹äºä¸­åºéå†è€Œè¨€ ï¼š å¯ä»¥å®ç°ä»å°åˆ°å¤§æ’åº</li>
</ul>
</li>
</ul>
<pre class="line-numbers language-c" data-language="c"><code class="language-c">
#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;
#include &lt;time.h&gt;
//èŠ‚ç‚¹
typedef struct Node {
    int data;
    struct Node *lchild, *rchild;//äºŒå‰ æŒ‡é’ˆåŸŸ å·¦å­©å­ å³å­©å­
} Node;

typedef struct tree {
    Node *root;//æŒ‡å‘æ ¹èŠ‚ç‚¹çš„æŒ‡é’ˆå˜é‡
    int n;//èŠ‚ç‚¹ä¸ªæ•°
} Tree;

Node *getNewNode(int val) {
    Node *p = (Node *)malloc(sizeof(Node));
    p-&gt;data = val;
    p-&gt;lchild = p-&gt;rchild = NULL;
    return p;
}

Tree *getNewTree() {
    Tree *tree = (Tree *)malloc(sizeof(Tree));
    tree-&gt;root = NULL;
    tree-&gt;n = 0;
    return tree;
}

void clearNode(Node *node) {
    if (node == NULL) return ;
    clearNode(node-&gt;lchild);//æ²¿ç€å½“å‰èŠ‚ç‚¹çš„å·¦å­æ ‘è¿›è¡Œé€’å½’å›æ”¶
    clearNode(node-&gt;rchild);
    free(node);//å›æ”¶å½“å‰èŠ‚ç‚¹
    return ;
}

void clear(Tree *tree) {
    if (tree == NULL) return ;
    clearNode(tree-&gt;root);
    free(tree);
    return ;
}

Node *insert_node(Node *root, int val, int *flag) {
    if (root == NULL){
        *flag = 1;//rootä¸ºç©ºè¡¨ç¤ºæ’å…¥æˆåŠŸ 
        return getNewNode(val);//è‹¥rootèŠ‚ç‚¹ä¸ºç©º åˆ™å°†valå°è£…æˆæ ¹èŠ‚ç‚¹
    }
    if (root-&gt;data == val) return root;//å¦‚æœæ ¹èŠ‚ç‚¹çš„å€¼ç­‰äºval åˆ™è¿”å›root
    
    //å¦‚æœå½“å‰çš„valå€¼å°äºå½“å‰æ ¹èŠ‚ç‚¹æ‰€æŒ‡å‘çš„å€¼
    //é‚£ä¹ˆæˆ‘ä»¬éœ€è¦å°†valå€¼é€’å½’æ’å…¥åˆ°æ ¹èŠ‚ç‚¹çš„å·¦å­æ ‘ä¸­ 
    if (val &lt; root-&gt;data) root-&gt;lchild = insert_node(root-&gt;lchild, val, flag);
    else root-&gt;rchild = insert_node(root-&gt;rchild, val, flag);
    return root;
}

//äºŒå‰æŸ¥æ‰¾æ ‘ å·¦å­©å­å°äºæ ¹èŠ‚ç‚¹ å³å­©å­å¤§äºæ ¹èŠ‚ç‚¹
void insert(Tree *tree, int val) {
    int flag = 0;//ä¼ å‡ºå‚æ•°
    tree-&gt;root = insert_node(tree-&gt;root, val, &amp;flag);
    //è‹¥æ’å…¥æˆåŠŸ åˆ™æ­¤æ—¶flag = 1 ä¸”å°†èŠ‚ç‚¹ä¸ªæ•°åŠ 1
    tree-&gt;n += flag;
    return ;
}

void pre_order_node(Node *node) {
    if (node == NULL) return ;
    printf("%d ", node-&gt;data);
    pre_order_node(node-&gt;lchild);
    pre_order_node(node-&gt;rchild);
    return ;
}

//å‰åºéå†
void pre_order(Tree *tree) {
    if (tree == NULL) return ;
    printf("pre_order :");
    pre_order_node(tree-&gt;root);
    printf("\n");
    return;
}

void in_order_node(Node *node) {
    if (node == NULL) return ;
    in_order_node(node-&gt;lchild);
    printf("%d ", node-&gt;data);
    in_order_node(node-&gt;rchild);
    return ;
}

//ä¸­åºéå†
void in_order(Tree *tree) {
    if (tree == NULL) return ;
    printf("in_order :");
    in_order_node(tree-&gt;root);
    printf("\n");
    return;
}

void post_order_node(Node *node) {
    if (node == NULL) return ;
    post_order_node(node-&gt;lchild);
    post_order_node(node-&gt;rchild);
    printf("%d ", node-&gt;data);
    return ;
}

//ååºéå†
void post_order(Tree *tree) {
    if (tree == NULL) return ;
    printf("post_order :");
    post_order_node(tree-&gt;root);
    printf("\n");
    return;
}


//æ‰“å°å¹¿ä¹‰è¡¨
void output_node(Node *root) {
    if (root == NULL) return ;
    printf("%d", root-&gt;data);
    if (root-&gt;lchild == NULL &amp;&amp; root-&gt;rchild == NULL) return;
    //æ‰“å°å·¦å­æ ‘æ—¶å…ˆè¾“å‡º`(`
    printf("(");
    output_node(root-&gt;lchild);
    printf(", ");
    //æ‰“å°å³å­æ ‘åè¾“å‡º`)`
    output_node(root-&gt;rchild);
    printf(")");
    return ;
}

void output(Tree *tree) {
    if (tree == NULL) return ;
    printf("tree(%d) : ", tree-&gt;n);
    output_node(tree-&gt;root);
    printf("\n");
    return ;
}

int main() {
    srand(time(0));
    Tree *tree =getNewTree();
    #define max_op 10
    for (int i = 0; i &lt; max_op; i++) {
        int val = rand() % 100;
        insert(tree, val);
        output(tree);
    }
    pre_order(tree);
    in_order(tree);
    post_order(tree);
    #undef max_op
    clear(tree);
    return 0;
}<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<ul>
<li>ğŸ˜ä¸‰ç§éå†æ–¹å¼ä¸­ ä»»é€‰ä¸¤ç§ï¼ˆå…¶ä¸­å¿…é¡»åŒ…å«ä¸­åºéå†ï¼‰å¯ä»¥è¿˜åŸä¸€é¢—äºŒå‰æ ‘ </li>
</ul>
<p>å¹¿ä¹‰è¡¨è½¬äºŒå‰æ ‘</p>
<pre class="line-numbers language-c" data-language="c"><code class="language-c">
#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;
#include &lt;string.h&gt;
typedef struct Node {
    char data;
    struct Node *lchild, *rchild;
} Node;

typedef struct Tree {
    Node *root;
    int n;
} Tree;

typedef struct Stack {
    Node **data;
    int top, size;
} Stack;

Node *getNewNode(char val) {
    Node *p = (Node *)malloc(sizeof(Node));
    p-&gt;data = val;
    p-&gt;lchild = p-&gt;rchild = NULL;
    return p;
}

Tree *getNewTree() {
    Tree *tree = (Tree *)malloc(sizeof(Tree));
    tree-&gt;root = NULL;
    tree-&gt;n = 0;
    return tree;
    
}

Stack *init_stack(int n) {
    Stack *s = (Stack *)malloc(sizeof(Stack));
    s-&gt;data = (Node **)malloc(sizeof(Node *) * n);
    s-&gt;top = -1;
    s-&gt;size = n;
    return s;
}

Node *top(Stack *s) {
    return s-&gt;data[s-&gt;top];
}

int empty(Stack *s) {
    return s-&gt;top == -1;
}

int push(Stack *s, Node *val) {
    if (s == NULL) return 0;
    if (s-&gt;top == s-&gt;size - 1) return 0;
    s-&gt;data[++(s-&gt;top)] = val;
    return 1;
}

int pop(Stack *s) {
    if (s == NULL) return 0;
    if (empty(s)) return 0;
    s-&gt;top -= 1;
    return 1;
}

void clear_stack(Stack *s) {
    if (s == NULL) return;
    free(s-&gt;data);
    free(s);
    return ;
}

void clear_node(Node *node) {
    if (node == NULL) return ;
    clear_node(node-&gt;lchild);
    clear_node(node-&gt;rchild);
    free(node);
    return ;
}

void clear_tree(Tree *tree) {
    if (tree == NULL) return ;
    clear_node(tree-&gt;root);
    free(tree);
    return ;
}

Node *build(const char *str, int *node_num) {
    Stack *s = init_stack(strlen(str));
    int flag = 0;
    Node *temp = NULL, *p = NULL;
    while (str[0]) {
        switch (str[0]) {
            case '(': {
                push(s, temp);
                flag = 0;
            } break;
            case ')': {
                p = top(s);
                pop(s);
            } break;
            case ',': {
                flag = 1;
            } break;
            case ' ': break;
            default:
                temp = getNewNode(str[0]);
                if (!empty(s) &amp;&amp; flag == 0) {
                    top(s)-&gt;lchild = temp;
                } else if (!empty(s) &amp;&amp; flag == 1) {
                    top(s)-&gt;rchild = temp;
                }
                ++(*node_num);
                break;
        }
        ++str;
    }
    clear_stack(s);
    if (temp &amp;&amp; !p) p = temp;
    return p;
}

void pre_order_node(Node *root) {
    if (root == NULL) return ;
    printf("%c ", root-&gt;data);
    pre_order_node(root-&gt;lchild);
    pre_order_node(root-&gt;rchild);
    return ;
}

void pre_order(Tree *tree) {
    if (tree == NULL) return ;
    printf("pre_order : ");
    pre_order_node(tree-&gt;root);
    printf("\n");
    return ;
}

void in_order_node(Node *root) {
    if (root == NULL) return ;
    in_order_node(root-&gt;lchild);
    printf("%c ", root-&gt;data);
    in_order_node(root-&gt;rchild);
    return ;
}

void in_order(Tree *tree) {
    if (tree == NULL) return ;
    printf("in_order : ");
    in_order_node(tree-&gt;root);
    printf("\n");
    return ;
}

void post_order_node(Node *root) {
    if (root == NULL) return ;
    post_order_node(root-&gt;lchild);
    post_order_node(root-&gt;rchild);
    printf("%c ", root-&gt;data);
    return ;
}

void post_order(Tree *tree) {
    if (tree == NULL) return ;
    printf("post_order : ");
    post_order_node(tree-&gt;root);
    printf("\n");
    return ;
}



int main() {
    char str[1000] = {0};
    int node_num = 0;
    scanf("%[^\n]s", str);
    Tree *tree = getNewTree();
    tree-&gt;root = build(str, &amp;node_num);
    tree-&gt;n = node_num;
    pre_order(tree);
    in_order(tree);
    post_order(tree);
    clear_tree(tree);
    return 0;
}
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="æ’åºä¸æŸ¥æ‰¾"><a href="#æ’åºä¸æŸ¥æ‰¾" class="headerlink" title="æ’åºä¸æŸ¥æ‰¾"></a>æ’åºä¸æŸ¥æ‰¾</h2><h3 id="ç¨³å®šæ’åº"><a href="#ç¨³å®šæ’åº" class="headerlink" title="ç¨³å®šæ’åº"></a>ç¨³å®šæ’åº</h3><p>==ç¨³å®šæ’åº==</p>
<p><strong><em>å¯¹äºç›¸åŒçš„å…ƒç´  ç»è¿‡æ’åºæ“ä½œå ä»–ä»¬çš„ç›¸å¯¹ä½ç½®ä¿æŒä¸å˜ è¿™æ ·çš„æ’åºæˆ‘ä»¬ç§°ä¸ºç¨³å®šæ’åº</em></strong></p>
<ul>
<li><p>æ’å…¥æ’åº</p>
<ul>
<li>æ—¶é—´å¤æ‚åº¦O(n^2)  è‡³å°‘è¦n-1è½®æ“ä½œ</li>
</ul>
</li>
<li><p><img src="/img/loading.gif" data-original="https://i.loli.net/2020/11/23/5wKdYO3y1HSV7hx.png" style="zoom: 67%;"></p>
</li>
<li><p>å†’æ³¡æ’åº</p>
<p>  <img src="/img/loading.gif" data-original="https://i.loli.net/2020/11/23/rwxdzJe9CVO1X3T.png" style="zoom: 67%;"></p>
</li>
<li><p>å½’å¹¶æ’åº</p>
<ul>
<li>æ—¶é—´å¤æ‚åº¦O(nlogÂ·N)  åˆ†æ²»æ€æƒ³ ä¸æ˜¯åŸºäºæ¯”è¾ƒè·Ÿäº¤æ¢çš„æ’åºæ–¹å¼</li>
<li><p>==â˜…==è¿™æ˜¯ä¸€ä¸ªå¤–éƒ¨æ’åºï¼ˆå¾ˆé‡è¦ï¼‰</p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://www.wikiwand.com/zh-hans/%E5%A4%96%E6%8E%92%E5%BA%8F#/%E5%A4%96%E5%BD%92%E5%B9%B6%E6%8E%92%E5%BA%8F">å¤–éƒ¨æ’åº</a>:   æˆ‘ä»¬å¯ä»¥å°†æ•°æ®åˆ†ä¸ºå¤šæ®µåŠ è½½åˆ°å†…å­˜ä¸­</p>
<ul>
<li><p>å†…éƒ¨æ’åºï¼šéœ€è¦å°†æ•°æ®æ•´ä¸ªåŠ è½½åˆ°å†…å­˜ä¸­è¿›è¡Œæ’åº</p>
</li>
<li><p>æ¯”å¦‚æˆ‘ä»¬æœ‰40Gçš„æ•°æ®è¦è¿›è¡Œæ’åº æ€ä¹ˆåŠï¼Ÿ æˆ‘ä»¬å¯ä»¥ä½¿ç”¨å½’å¹¶æ’åº æŠŠ40Gçš„æ•°æ®åˆ†æˆ20G å†ä¸è¡Œå°±åˆ†æˆ10G </p>
</li>
</ul>
<p><img src="/img/loading.gif" data-original="https://i.loli.net/2020/11/23/v4FDiWRKdS6Ualx.png" style="zoom: 50%;"></p>
</li>
</ul>
</li>
</ul>
<pre><code><pre class="line-numbers language-c" data-language="c"><code class="language-c">
#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;
#include &lt;string.h&gt;
#include &lt;time.h&gt;

#define swap(a, b) {\
    a ^= b; b ^= a; a ^= b;\
}

#define TEST(arr, n, func, args...) {\
    int *num = (int *)malloc(sizeof(int) * n);\
    memcpy(num, arr, sizeof(int) * n);\
    output(num, n);\
    printf("%s= ", #func);\
    func(args);\
    output(num, n);\
    free(num);\
}

//æ’å…¥æ’åº
void insert_sort(int *num, int n) {
    for (int i = 1; i &lt; n; i++) {
        for (int j = i ; j &gt; 0 &amp;&amp; num[j] &lt; num[j - 1]; j--) {
            swap(num[j], num[j - 1]);
        }
    }
    return ;
}

//å†’æ³¡ æˆ‘ä»¬åœ¨è¿™é‡Œè®¾ç½®ä¸€ä¸ªè®°å½•äº¤æ¢æ¬¡æ•°çš„å€¼ è‹¥æ˜¯ä¸€ä¸ªä»å°åˆ°å¤§çš„æœ‰åºæ•°ç»„ timesäº¤æ¢æ¬¡æ•°å¿…å®šä¸º0 ä¸”æ—¶é—´å¤æ‚åº¦ä¸ºO(n) 
void bubble_sort(int *num, int n) {
    int times = 1; // è¿›è¡Œäº¤æ¢çš„æ¬¡æ•°
    for (int i = 1; i &lt; n &amp;&amp; times; i++) {//times == 0 ç»“æŸå¾ªç¯
        times = 0;
        for (int j = 0; j &lt; n - i; j++) {
            if (num[j] &lt;= num[j + 1]) continue; //å‡å°‘ç¼©è¿›
            swap(num[j], num[j + 1]);
            times++;            
        }
    }
    return ;
}

//å½’å¹¶æ’åº åˆ†æ²»æ€æƒ³ ç”¨é€’å½’ 
void merge_sort(int *num, int l, int r) {
    //è¾¹ç•Œæ¡ä»¶ åªå‰©ä¸¤ä¸ªå…ƒç´ 
    if (r - l &lt;= 1) {
        if (r - l == 1 &amp;&amp; num[r] &lt; num[l]) {
            swap(num[r], num[l]);
        }
        return;
    } 
    int mid = (l + r) &gt;&gt; 1;
    merge_sort(num, l, mid);//ä»l åˆ° mid è¿›è¡Œæ’åº
    merge_sort(num, mid + 1, r);//ä» mid + 1 åˆ° r è¿›è¡Œæ’åº
    //åˆå¹¶
    int *temp = (int *)malloc(sizeof(int) * (r - l + 1));
    //p1 æŒ‡å‘çš„æ˜¯
    int p1 = l, p2 = mid + 1, k = 0;
    while (p1 &lt;= mid || p2 &lt;= r) {
        if (p2 &gt; r || (p1 &lt;= mid &amp;&amp; num[p1] &lt;= num[p2])) {
            temp[k++] = num[p1++];
        } else {
            temp[k++] = num[p2++];
        }
    }
    //å°†tempæ‹·è´å›numé‡Œ
    memcpy(num + l, temp, sizeof(int) * (r -l + 1));
    free(temp);
    return ;
}

void randint(int *num, int n) {
    while (n--) num[n] = rand() % 100;
    return ;
}

void output(int *num, int n) {
    printf("[");
    for (int i = 0; i &lt; n; i++) {
        printf("%d ", num[i]);
    }
    printf("]\n");
}

int main() {
    srand(time(0));
    #define max_n 20
    int arr[max_n];
    randint(arr, max_n);
    TEST(arr, max_n, insert_sort, num, max_n);
    TEST(arr, max_n, bubble_sort, num, max_n);
    TEST(arr, max_n, merge_sort, num, 0, max_n - 1);
    #undef max_n
    return 0;
}
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</code></pre><h3 id="ä¸ç¨³å®šæ’åº"><a href="#ä¸ç¨³å®šæ’åº" class="headerlink" title="ä¸ç¨³å®šæ’åº"></a>ä¸ç¨³å®šæ’åº</h3><ul>
<li><p>é€‰æ‹©æ’åº</p>
<ul>
<li><p>æ—¶é—´å¤æ‚åº¦ï¼šO(n^2) </p>
</li>
<li><p>ä¸ç¨³å®šæ’åº æ¯”å¦‚ 5 3 2 5 1 ç»è¿‡æ’åºå ç¬¬ä¸€ä¸ª5çš„ä½ç½®å˜åˆ°äº†æœ€åä¸€ä¸ª ä¸¤ä¸ª5çš„ç›¸å¯¹ä½ç½®å‘ç”Ÿäº†æ”¹å˜</p>
<p><img src="/img/loading.gif" data-original="https://i.loli.net/2020/11/24/XQqkKLCAZt37cnO.png" style="zoom: 67%;"></p>
</li>
</ul>
</li>
</ul>
<ul>
<li>å¿«é€Ÿæ’åº<ul>
<li>æ—¶é—´å¤æ‚åº¦ï¼šO(nlogÂ·N)     é€‰ä¸€ä¸ªåŸºæ•°  è®©å·¦åŠè¾¹å°äºè¿™ä¸ªåŸºæ•° å³åŠè¾¹å¤§äºè¿™ä¸ªåŸºæ•°<ul>
<li>â‘ é€‰æ‹©å¤´éƒ¨å…ƒç´ ä½œä¸ºåŸºæ•°</li>
<li>â‘¡æœ‰å¤´å°¾ä¸¤ä¸ªæŒ‡é’ˆ  å°¾æŒ‡é’ˆæ‰¾ç¬¬ä¸€ä¸ªå°äºåŸºæ•°çš„å€¼ç„¶åæ”¾å…¥å¤´éƒ¨ä¸­  å¤´æŒ‡é’ˆæ‰¾ç¬¬ä¸€ä¸ªå¤§äºåŸºæ•°çš„å€¼æ”¾å…¥åˆšåˆšç§»èµ°çš„å€¼çš„ä½ç½®</li>
<li>â‘¢æœ€åæŒ‡é’ˆé‡å  æ”¾å…¥åŸºæ•°</li>
</ul>
</li>
<li><img src="/img/loading.gif" data-original="https://i.loli.net/2020/11/24/VL7Kw68MOvGptnb.png" alt=""></li>
<li><img src="/img/loading.gif" data-original="https://i.loli.net/2020/11/24/OiI1czLE4nohYTd.png" alt=""></li>
</ul>
</li>
</ul>
<pre class="line-numbers language-c" data-language="c"><code class="language-c">
#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;
#include &lt;time.h&gt;
#include &lt;string.h&gt;

//^= ä¸¤ä¸ªå€¼ä¸èƒ½å¼‚æˆ–è‡ªå·±
#define swap(a, b) {\
    __typeof(a) __temp = a;\
    a = b; b = __temp;\
}

#define TEST(arr, n, func, args...) {\
    int *num = (int *)malloc(sizeof(int) * n);\
    memcpy(num, arr, sizeof(int) * n);\
    output(num, n);\
    printf("%s = ", #func);\
    func(args);\
    output(num, n);\
    free(num);\
}

void select_sort(int *num, int n) {
    for (int i = 0; i &lt; n - 1; i++) {
        int ind = i;
        for (int j = i + 1; j &lt; n; j++) {
            if (num[ind] &gt; num[j]) ind = j;
        }
        swap(num[i], num[ind]);
    }
    return ;
}

void quick_sort(int *num, int l, int r) {
    if (l &gt; r) return ;
    int x = l, y = r, z = num[x];
    while (x &lt; y) {
        while (x &lt; y &amp;&amp; num[y] &gt; z) y--;
        if (x &lt; y) num[x++] = num[y];
        while (x &lt; y &amp;&amp; num[x] &lt; z) x++;
        if (x &lt; y) num[y--] = num[x];
    }
    num[x] = z;
    quick_sort(num, l, x - 1);
    quick_sort(num, x + 1, r);
    return ;
}

void randint(int *num, int n) {
    while (n--) num[n] = rand() % 100;
    return ;
}

void output(int *num, int n) {
    printf("[");
    for (int i = 0; i &lt; n; i++) {
        printf("%d ", num[i]);
    }
    printf("]\n");
    return ;
}

int main() {
    srand(time(0));
    #define max_n 20
    int arr[max_n];
    randint(arr, max_n);
    TEST(arr, max_n, select_sort, num, max_n);
    TEST(arr, max_n, quick_sort, num, 0, max_n - 1);
    return 0;
}
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<ul>
<li><p>å¿«é€Ÿæ’åºä¼˜åŒ–</p>
<p>  <img src="/img/loading.gif" data-original="https://i.loli.net/2020/11/24/sa2YOr7Hmw1txeV.png" alt=""></p>
</li>
</ul>
<h3 id="æŸ¥æ‰¾"><a href="#æŸ¥æ‰¾" class="headerlink" title="æŸ¥æ‰¾"></a>æŸ¥æ‰¾</h3><ul>
<li><p><strong>äºŒåˆ†æŸ¥æ‰¾</strong></p>
<ul>
<li><p>è™šæ‹Ÿå¤´å°¾æŒ‡é’ˆ ä¸€å †0çš„æƒ…å†µ<img src="/img/loading.gif" data-original="https://i.loli.net/2020/11/24/EuSNpFWqjLMUI9b.png" style="zoom: 67%;"></p>
</li>
<li><p>ç‰¹æ®Šæƒ…å†µâ‘     1111111100000000</p>
<ul>
<li><p>1 è¡¨ç¤ºæ»¡è¶³æŸç§æ€§è´¨    0  è¡¨ç¤ºä¸æ»¡è¶³æŸç§æ€§è´¨</p>
</li>
<li><p><img src="/img/loading.gif" data-original="https://i.loli.net/2020/11/24/LeC3JicxfpGzoOH.png" alt=""></p>
</li>
<li>å¦‚æœæˆ‘ä»¬çš„æ•°æ®å…¨æ˜¯0   0000000000000  æœ€åmidæŒ‡å‘ç¬¬ä¸€ä¸ª0 æˆ‘ä»¬è¯´ä¸æ¸…åˆ°åº•æ˜¯æ‰¾åˆ°äº†ç­”æ¡ˆè¿˜æ˜¯æ²¡æ‰¾åˆ° æ‰€ä»¥æˆ‘ä»¬å¼•å…¥äº†è™šæ‹Ÿå¤´æŒ‡é’ˆ å»åˆ¤æ–­å®ƒæ˜¯å¦ç­‰äº-1</li>
<li><img src="/img/loading.gif" data-original="C:\Users\Lenovo\AppData\Roaming\Typora\typora-user-images\1606189109262.png" alt="1606189109262"></li>
</ul>
</li>
<li><p>ç‰¹æ®Šæƒ…å†µâ‘¡   00000000011111111111</p>
<p>  <img src="/img/loading.gif" data-original="C:\Users\Lenovo\AppData\Roaming\Typora\typora-user-images\1606189376625.png" alt="1606189376625"></p>
</li>
</ul>
</li>
</ul>
<ul>
<li><strong>ä¸‰åˆ†æŸ¥æ‰¾</strong><br>  <img src="/img/loading.gif" data-original="https://i.loli.net/2020/11/24/C2aWlMRGDsZpJ9O.png" style="zoom:50%;"></li>
</ul>
<pre class="line-numbers language-c" data-language="c"><code class="language-c">
#include &lt;stdio.h&gt;

#define P(func) {\
    printf("%s = %d\n", #func, func);\
}

int binary_search1(int *num, int n, int x) {
    int head = 0, tail = n - 1, mid;
    while (head &lt;= tail) {
        mid = (head + tail) &gt;&gt; 1;
        if (num[mid] == x) return mid;
        if (num[mid] &lt; x) head = mid + 1;
        else tail = mid - 1;
    }
    return -1;
}

//111111000000
//head è™šæ‹Ÿå¤´æŒ‡é’ˆ
int binary_search2(int *num, int n) {
    int head = -1, tail = n - 1, mid;
    while (head &lt; tail) {
        mid = (head + tail + 1) &gt;&gt; 1;
        if (num[mid] == 1) head = mid;
        else tail = mid - 1;
    }
    return head;
}

//00000011111111
//tail è™šæ‹Ÿå°¾æŒ‡é’ˆ
int binary_search3(int *num, int n) {
    int head = 0, tail = n, mid;
    while (head &lt; tail) {
        mid = (head + tail) &gt;&gt; 1;
        if (num[mid] == 1) tail = mid;
        else head = mid + 1;
    }
    return head == n ? -1 : head;
}

int main() {
    int arr1[10] = {1, 3, 5, 7, 9, 11, 13, 17, 19, 21};
    int arr2[10] = {1, 1, 1, 1, 0, 0, 0, 0, 0, 0};
    int arr3[10] = {0, 0, 0, 0, 0, 0, 1, 1, 1, 1};
    P(binary_search1(arr1, 10, 7));
    P(binary_search2(arr2, 10));
    P(binary_search3(arr3, 10));
    return 0;
}
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="å“ˆå¸Œè¡¨"><a href="#å“ˆå¸Œè¡¨" class="headerlink" title="å“ˆå¸Œè¡¨"></a>å“ˆå¸Œè¡¨</h2><ul>
<li>æ—¶é—´å¤æ‚åº¦ï¼šè¶‹è¿‘ä¸O(1)</li>
<li>æ˜¯ä¸€ç§ç”¨æ¥æŸ¥æ‰¾çš„æ•°æ®ç»“æ„ï¼ˆä¸‹æ ‡ä¸å€¼çš„è®¿é—®ï¼‰</li>
</ul>
<p><img src="/img/loading.gif" data-original="https://i.loli.net/2020/11/25/ndoXIQCP7jWybAG.png" style="zoom: 33%;"></p>
<ul>
<li><p>å¯ä»¥å°†ä»»æ„ä¸€ç§ç±»å‹æ˜ å°„æˆæ•°ç»„ä¸‹æ ‡çš„å½¢å¼è¿›è¡Œè®¿é—® </p>
<ul>
<li>å†²çªå¤„ç†æ–¹æ³•ï¼ˆæ— æ³•é¿å…ï¼Œä½†æ˜¯å¯ä»¥å‡å°‘å‘ç”Ÿçš„æ¦‚ç‡ï¼‰ </li>
<li><strong><em>æ”¾å…¥å…ƒç´ </em></strong> ï¼šå½“å‰æˆ‘è¦æ’å…¥16è¿™ä¸ªå€¼  ç”¨16å–æ¨¡ä¸å½“å‰çš„å®¹é‡ æ”¾å…¥åˆ°ä¸‹æ ‡ä¸ºã€7ã€‘çš„ä½ç½®ä¸­</li>
<li><img src="/img/loading.gif" data-original="https://i.loli.net/2020/11/25/hS4Otfx91HkzP2Y.png" style="zoom:33%;"></li>
<li><strong><em>å‘ç”Ÿå†²çª</em></strong>ï¼š æˆ‘è¦æ’å…¥7è¿™ä¸ªå€¼  7%9 = 7  æ­¤æ—¶æˆ‘è¦æŠŠ7æ”¾å…¥åˆ°ä¸‹æ ‡ä¸ºã€7ã€‘çš„ä½ç½®ä¸­ ä½†æ˜¯ã€7ã€‘çš„ä½ç½®ä¸­å·²å­˜åœ¨å€¼  è¿™æ—¶å†²çªä¾¿å‘ç”Ÿäº†</li>
<li><img src="/img/loading.gif" data-original="https://i.loli.net/2020/11/25/Fueh2iabNVHj9TK.png" style="zoom:33%;"></li>
</ul>
</li>
<li><p>è¿™æ˜¯å°±å¼•å‡ºäº†å“ˆå¸Œè¡¨å¾ˆé‡è¦çš„ç»“æ„ï¼š <strong><em>å†²çªå¤„ç†æ–¹æ³•</em></strong></p>
<ul>
<li>â‘ <strong><em>å¼€æ”¾å®šå€</em></strong>ï¼š å½“å‰7çš„ä½ç½®æœ‰å€¼ é‚£æˆ‘å°±å»å¯»æ‰¾åé¢çš„ä½ç½® æ˜¯å¦æœ‰å€¼ å¦‚æœæ²¡æœ‰å€¼å°±å°†7æ”¾å…¥8çš„ä½ç½®<ul>
<li>å®¹æ˜“äº§ç”Ÿæ•°æ®å †èšé—®é¢˜ ï¼šæ•°æ®ä¼šé›†ä¸­å­˜å‚¨åœ¨ç©ºé—´ä¸­çš„æŸä¸€å—åŒºåŸŸ </li>
</ul>
</li>
<li>â‘¡<strong><em>å†å“ˆå¸Œæ³•</em></strong>ï¼šåœ¨æˆ‘çš„å“ˆå¸Œè¡¨ä¸­ æˆ‘è®¾ç½®äº†ä¸æ­¢ä¸€ç§å“ˆå¸Œå‡½æ•° ä¸€ç§ä¸è¡Œ æˆ‘å†ç”¨ä¸‹ä¸€ç§</li>
<li>â‘¢<strong><em>æ‹‰é“¾æ³•</em></strong>ï¼šåœ¨å½“å‰ä½ç½®æˆ‘ä¸å­˜å‚¨ä¸€ä¸ªå…ƒç´ ï¼Œæˆ‘ä»¬å»å­˜å‚¨ä¸€ä¸ªé“¾è¡¨ï¼Œå°†è¿™ä¸ªå€¼å°è£…ä¸€ä¸ªèŠ‚ç‚¹å­˜åœ¨é“¾è¡¨çš„åé¢</li>
<li>â‘£<strong><em>å»ºç«‹å…¬å…±æº¢å‡ºåŒº</em></strong>ï¼šè¿™ä¸ªåŒºåŸŸä¸“é—¨ç”¨æ¥å­˜å‚¨å†²çªå…ƒç´ çš„â€”â€”ç”¨ä¸€ç§é¢å¤–çš„æ•°æ®ç»“æ„ç»´æŠ¤ï¼ˆçº¢é»‘æ ‘ï¼‰</li>
</ul>
</li>
</ul>
<pre class="line-numbers language-c" data-language="c"><code class="language-c">#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;
#include &lt;string.h&gt;


typedef struct Node {
    char *str;
    struct Node *next;
} Node;

typedef struct HashTable {
    Node **data;//å“ˆå¸Œè¡¨(ä¹Ÿæ˜¯é¡ºåºè¡¨)é‡Œé¢å­˜å‚¨çš„æ˜¯ä¸€ä¸ªåœ°å€ åœ°å€æ‰€æŒ‡å‘çš„ç±»å‹æ˜¯Node*ç±»å‹ æ‹‰é“¾æ³•
    int size;
} HashTable;

Node *init_node(char *str, Node *head) {
    Node *p = (Node *)malloc(sizeof(Node));
    p-&gt;str = strdup(str);
    p-&gt;next = head; //å¤´æ’æ³•
    return p;
}

HashTable *init_hashtable(int n) {
    HashTable *h = (HashTable *)malloc(sizeof(HashTable));
    //åˆ©ç”¨ç‡å’Œå“ˆå¸Œå‡½æ•°å†²çªæ¦‚ç‡æœ‰å…³ æˆ‘ä»¬æŠŠnæ‰©å¤§ä¸€å€ ä½¿å…¶åªæœ‰50%åˆ©ç”¨ç‡
    h-&gt;size = n &lt;&lt; 1;//å“ˆå¸Œè¡¨çš„ç©ºé—´åˆ©ç”¨ç‡ä¸å¯èƒ½è¾¾åˆ°100% ä¸€èˆ¬çš„ç©ºé—´åˆ©ç”¨ç‡ä¸º50%â€”â€”90% å·¥ä¸šä¸Šè¾¾åˆ°70%æ‰å¯ä»¥ä½¿ç”¨
    h-&gt;data = (Node **)calloc(h-&gt;size,sizeof(Node *));//æ•°æ®çš„æ¯ä¸€ä½éƒ½ä¸º0å€¼ éƒ½æ˜¯ç©ºåœ°å€
    return h;
}

//å“ˆå¸Œå‡½æ•°
int BKDRHash(char *str) {
    //seedæ˜¯ä¸€ä¸ªç´ æ•°å°±è¡Œ
    int seed = 31, hash = 0;
    for (int i = 0; str[i]; i++) hash = hash * seed + str[i];
    //hashæœ‰å¯èƒ½è¶…å‡ºæ•´å‹èŒƒå›´ å˜æˆä¸€ä¸ªè´Ÿæ•° 
    //è¿™é‡Œçš„0x7fffffff è¡¨ç¤ºçš„æ˜¯ç¬¦å·ä½ä¸º0 å…¶ä½™ä½ä¸º1çš„æ•° 
    return hash &amp; 0x7fffffff;    
}

int insert(HashTable *h, char *str) {
    int hash = BKDRHash(str);
    int ind = hash % h-&gt;size;
    //å°†å­—ç¬¦ä¸²æ’å…¥åˆ°ä¸‹æ ‡ä¸ºindçš„è¿™ä¸ªä½ç½®æ‰€å¯¹åº”çš„é“¾è¡¨ä¸­
    h-&gt;data[ind] = init_node(str, h-&gt;data[ind]);
    return 1;
}

int search(HashTable *h, char *str) {
    int hash = BKDRHash(str);
    int ind = hash % h-&gt;size;
    //pæŒ‡å‘indè¿™ä½é“¾è¡¨é‡Œå­˜çš„å¤´èŠ‚ç‚¹
    Node *p = h-&gt;data[ind];
    //æ²¿ç€é“¾è¡¨çš„å¤´èŠ‚ç‚¹ éå†é“¾è¡¨çš„æ¯ä¸€ä½ strcmpè¿”å›å€¼ä¸ä¸º0æ—¶ä»£è¡¨æ²¡æ‰¾åˆ°
    while (p &amp;&amp; strcmp(p-&gt;str, str)) p = p-&gt;next;
    //å¦‚æœp ä¸ç­‰äºNULL è¯´æ˜æ˜¯å› ä¸ºstrcmpè¿”å›å€¼ä¸º0é€€å‡ºçš„å¾ªç¯  ä¹Ÿå°±æ˜¯è¯´æ‰¾åˆ°äº†å€¼
    return p != NULL;
}

void clear_node(Node *node) {
    if (node == NULL) return ;
    Node *p = node, *q;
    while (p) {
        q = p-&gt;next;
        free(p-&gt;str);
        free(p);
        p = q;
    }
    return ;
}

void clear_hashtable(HashTable *h) {
    if (h == NULL) return ;
    for (int i = 0; i &lt; h-&gt;size; i++) {
        clear_node(h-&gt;data[i]);
    }
    free(h-&gt;data);
    free(h);
    return ;
}

int main() {
    int op;
    #define max_n 100
    char str[max_n + 5] = {0};
    HashTable *h = init_hashtable(max_n + 5);
    while (~scanf("%d%s", &amp;op, str)) {
        switch (op) {
            case 0:
                printf("insert %s to HashTable\n", str);
                insert(h, str);
            break;
            case 1:
            printf("search %s from HashTable result = %d\n", str, search(h, str));
            break;
        }
    }
    #undef max_n
    clear_hashtable(h);
    return 0;
}
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><img src="/img/loading.gif" data-original="https://i.loli.net/2020/11/27/LyTdRX2YDeafEzG.png" alt=""></p>
<p><img src="/img/loading.gif" data-original="https://i.loli.net/2020/12/04/9ZMPRS3cLxaWEzg.png" alt=""></p>
<h2 id="å †ä¸ä¼˜å…ˆé˜Ÿåˆ—"><a href="#å †ä¸ä¼˜å…ˆé˜Ÿåˆ—" class="headerlink" title="å †ä¸ä¼˜å…ˆé˜Ÿåˆ—"></a>å †ä¸ä¼˜å…ˆé˜Ÿåˆ—</h2><p><img src="/img/loading.gif" data-original="https://i.loli.net/2020/12/02/ZwJXE47fyLK1Io6.png" alt="å›¾ç‰‡" style="zoom: 33%;"></p>
<ul>
<li>å®Œå…¨äºŒå‰æ ‘é»˜è®¤ä»1å¼€å§‹ç¼–å·<ul>
<li>è¿™æ ·å¯ä»¥ä¿è¯å·¦å­©å­ã€å³å­©å­ç¼–å·ç®€æ´</li>
<li>[å¦åˆ™] å·¦å­©å­ç¼–å·éœ€ä¸º2 <em> i + 1ï¼Œå³å­©å­ç¼–å·éœ€ä¸º2 </em> i + 2</li>
</ul>
</li>
</ul>
<p>==æ•°æ®ç»“æ„ï¼š ä½ å®šä¹‰äº†ä¸€ç§æ€§è´¨ï¼Œå¹¶ä¸”èƒ½ç»´æŠ¤è¿™ä¸€ç§æ€§è´¨ï¼Œé‚£ä¹ˆè¿™ç§ç»“æ„å°±æ˜¯ä¸€ä¸ªæ–°çš„æ•°æ®ç»“æ„==</p>
<ul>
<li>ä¼˜å…ˆé˜Ÿåˆ—æ˜¯å †çš„ä¸€ä¸ªåˆ«å</li>
<li>å †åœ¨æ€ç»´é€»è¾‘ä¸Šå°±æ˜¯ä¸€é¢—å®Œå…¨äºŒå‰æ ‘</li>
</ul>
<p><img src="/img/loading.gif" data-original="https://i.loli.net/2020/12/01/i5F9A1S7zVvZWEN.png" alt=""></p>
<ul>
<li><strong>å°¾éƒ¨æ’å…¥å…ƒç´ </strong>(O(logn))   <ul>
<li>ä¸€å¼€å§‹ä»¥7ä¸ºæ ¹èŠ‚ç‚¹ 13ä¸ºå·¦å­©å­  å³å­©å­ä¸ºç©º è¿™ä¸ªä¸‰å…ƒç»„è¿›è¡Œè°ƒæ•´ </li>
</ul>
</li>
</ul>
<p><img src="/img/loading.gif" data-original="https://i.loli.net/2020/12/01/OeKuCUMVABwcJ7R.png" style="zoom:25%;"></p>
<p><img src="/img/loading.gif" data-original="https://i.loli.net/2020/12/01/c2NArZGuEwPIJSK.png" style="zoom:25%;"></p>
<p><img src="/img/loading.gif" data-original="https://i.loli.net/2020/12/01/h6m3Xrqi1oPJLlW.png" style="zoom:25%;"></p>
<p><img src="/img/loading.gif" data-original="https://i.loli.net/2020/12/01/xQ7PGAMoih9fKyb.png" style="zoom:25%;"></p>
<ul>
<li><p>å¤´éƒ¨å¼¹å‡ºè°ƒæ•´ï¼ˆåˆ é™¤æ“ä½œï¼‰</p>
<ul>
<li>ä»å¤´éƒ¨åˆ é™¤å…ƒç´  å¹¶ç»´æŠ¤å †çš„æ€§è´¨è¿›è¡Œè°ƒæ•´</li>
<li><p>æˆ‘ä»¬è®©æœ€åä¸€ä¸ªå­©å­ä½œä¸ºå¤´éƒ¨å…ƒç´  è‡ªä¸Šè€Œä¸‹è¿›è¡Œè°ƒæ•´</p>
<p><img src="/img/loading.gif" data-original="https://i.loli.net/2020/12/01/aNEQ9gS1Rwth8fp.png" style="zoom:25%;"></p>
<p><img src="/img/loading.gif" data-original="https://i.loli.net/2020/12/01/LTNd3rGywOjWKAZ.png" style="zoom:25%;"></p>
<p><img src="/img/loading.gif" data-original="https://i.loli.net/2020/12/01/7MV6siyqCFQLWl2.png" style="zoom:25%;"></p>
<p><img src="/img/loading.gif" data-original="https://i.loli.net/2020/12/01/cd8uveO2L3FJbl6.png" style="zoom:25%;"></p>
</li>
</ul>
</li>
<li><p><strong>å †æ’åº</strong></p>
<ul>
<li>æˆ‘ä»¬å°†å †é¡¶å…ƒç´ å’Œå †å°¾å…ƒç´ ç½®æ¢  æ¯æ¬¡è°ƒæ•´n-1ä¸ªå…ƒç´ </li>
<li>æ—¶é—´å¤æ‚åº¦O(nlogn)ï¼šå› ä¸ºæ¯æ¬¡æ˜¯ä¸€å±‚ä¸€å±‚éå† </li>
<li><p>å¤§é¡¶å †ï¼šä»å°åˆ°å¤§æ’åº     å°é¡¶å †ï¼šä»å¤§åˆ°å°æ’åº</p>
<p><img src="/img/loading.gif" data-original="https://i.loli.net/2020/12/01/dqBPVt6S5MNvuxh.png" alt=""></p>
</li>
</ul>
</li>
</ul>
<ul>
<li><strong>æ™®é€šé˜Ÿåˆ—ä¸å †çš„æ¯”è¾ƒ</strong></li>
</ul>
<p><img src="/img/loading.gif" data-original="https://i.loli.net/2020/12/01/Mdpj8Afi2TRsJa3.png" style="zoom: 50%;"></p>
<pre class="line-numbers language-c" data-language="c"><code class="language-c">
#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;
#include &lt;time.h&gt;

#define swap(a, b) {\
    __typeof(a) __temp = a;\
    a = b; b = __temp;\
}

typedef struct priority_queue {
    int *data;
    int cnt, size;//ä¸ªæ•°ï¼Œ å®¹é‡
} priority_queue;

priority_queue *init(int n) {
    priority_queue *q = (priority_queue *)malloc(sizeof(priority_queue));
    //ç”±äºä¼˜å…ˆé˜Ÿåˆ—æ˜¯ä»¥æ•°ç»„çš„å½¢å¼è¿›è¡Œå­˜å‚¨  ä¸”åœ¨é€»è¾‘ä¸Šæ˜¯ä¸€æ£µäºŒå‰æ ‘ æ‰€ä»¥åœ¨è¿™é‡Œå¤šå¼€ä¸€ä½ 
    //ç›®çš„ï¼šå¯ä»¥æ–¹ä¾¿è®¡ç®—
    q-&gt;data = (int *)malloc(sizeof(int) * (n + 1));
    q-&gt;cnt = 0;
    q-&gt;size = n;
    return q;
}

int empty(priority_queue *q) {
    return q-&gt;cnt == 0;
}

//å †é¡¶å¼¹å‡ºå…ƒç´ 
int top(priority_queue *q) {
    return q-&gt;data[1];
}

int push(priority_queue *q, int val) {
    if (q == NULL) return 0;
    if (q-&gt;cnt == q-&gt;size) return 0;  //åˆ¤æ–­å †æ˜¯å¦æ»¡
    q-&gt;data[++(q-&gt;cnt)] = val;        //++(q-&gt;cnt)æ˜¯å› ä¸ºæˆ‘ä»¬ä»1å¼€å§‹å­˜å‚¨æ‰€ä»¥ä¸ªæ•°è¦å…ˆåŠ 1 
    int ind = q-&gt;cnt;     //indè®°å½•çš„æ˜¯æœ€åæ’å…¥å…ƒç´ çš„ä¸‹æ ‡
    
    //ç”±äºæˆ‘ä»¬æ’å…¥ä¸€ä¸ªå…ƒç´  è¦è¿›è¡Œå‘ä¸Šè°ƒæ•´ ä¹Ÿå°±æ˜¯å½“å‰èŠ‚ç‚¹éœ€è¦è·Ÿçˆ¶èŠ‚ç‚¹è¿›è¡Œæ¯”è¾ƒ
    // ind &gt;&gt; 1 è¡¨ç¤ºæˆ‘ä»¬çš„çˆ¶èŠ‚ç‚¹  ç»´æŠ¤å¤§é¡¶å †
    while (ind &gt;&gt; 1 &amp;&amp; q-&gt;data[ind] &gt; q-&gt;data[ind &gt;&gt; 1]) {
        swap(q-&gt;data[ind], q-&gt;data[ind &gt;&gt; 1]);
        ind &gt;&gt;= 1;  //äº¤æ¢åå½“å‰èŠ‚ç‚¹ç­‰äºçˆ¶èŠ‚ç‚¹
    }
    return 1;
}

int pop(priority_queue *q) {
    if (q == NULL) return 0;
    if (empty(q)) return 0;
    //æˆ‘ä»¬å°†æœ€åä¸€ä¸ªèŠ‚ç‚¹è¦†ç›–æ‰ç¬¬ä¸€ä¸ªèŠ‚ç‚¹  å¹¶è®©ä¸ªæ•°å‡1
    q-&gt;data[1] = q-&gt;data[q-&gt;cnt--];
    int ind = 1; //è°ƒæ•´ä¸‹æ ‡
    //å·¦å­©å­çš„ä¸‹æ ‡æ²¡æœ‰è¶…è¿‡q-&gt;cntçš„ä¸‹æ ‡çš„è¯  è¯´æ˜indè¿™ä¸ªèŠ‚ç‚¹æœ‰å·¦å­©å­
    while ((ind &lt;&lt; 1) &lt;= q-&gt;cnt) {
        //ğŸ˜±(ind &lt;&lt; 1 | 1) éªšæ“ä½œ  è¡¨ç¤ºçš„æ˜¯ind * 2 + 1 
        int temp = ind, l = ind &lt;&lt; 1, r = ind &lt;&lt; 1 | 1;  
        if (q-&gt;data[l] &gt; q-&gt;data[temp]) temp = l;
        if (r &lt;= q-&gt;cnt &amp;&amp; q-&gt;data[r] &gt; q-&gt;data[temp]) temp = r;
        if (temp == ind) break;
        swap(q-&gt;data[ind], q-&gt;data[temp]);
        ind = temp;
    }
    return 1;
}

void clear(priority_queue *q) {
    if (q == NULL) return ;
    free(q-&gt;data);
    free(q);
    return ;
}

int main() {
    srand(time(0));
    #define max_op 20
    priority_queue *q = init(max_op);
    for (int i = 0; i &lt; max_op; i++) {
        int val = rand() % 100;
        push(q, val);
        printf("insert %d to the priority_queue!\n", val);
    }
    for (int i = 0; i &lt; max_op; i++) {
        printf("%d ", top(q));
        pop(q);
    }
    printf("\n");
    #undef max_op
    clear(q);
    return 0;
}<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="å †æ’åº"><a href="#å †æ’åº" class="headerlink" title="å †æ’åº"></a>å †æ’åº</h3><ul>
<li>æ ¹æ®å…¶æ€§è´¨ï¼Œå…¨éƒ¨å¼¹å‡ºï¼Œå°†å¾—åˆ°ä¸€ä¸ªæ’å¥½åºçš„åºåˆ—</li>
<li>â­æ€ç»´è½¬å˜ï¼šå †é¡¶å…ƒç´ çš„å¼¹å‡ºæ“ä½œ ==&gt; å †é¡¶å…ƒç´ ä¸å †å°¾å…ƒç´ äº¤æ¢<ul>
<li>ã€å¦‚æ­¤æ“ä½œã€‘</li>
<li><strong>å¤§é¡¶å †</strong>çš„å…ƒç´ å…¨éƒ¨å¼¹å‡ºğŸ‘‰åŸæ•°ç»„å­˜å‚¨äº†ä¸€ä¸ª<strong>ä»å°åˆ°å¤§</strong>çš„æ’åºåºåˆ—</li>
<li>[è‡³æ­¤ï¼Œä»å¤§é¡¶å †ï¼Œå¾—åˆ°ä¸€ä¸ªç‰¹æ®Šçš„å°é¡¶å †]</li>
</ul>
</li>
<li>æ—¶é—´å¤æ‚åº¦ï¼šO(NlogN)<ul>
<li>æ¶ˆè€—çš„æ—¶é—´åœ¨äºè°ƒæ•´æ“ä½œï¼Œæ¯æ¬¡è°ƒæ•´çš„æ—¶é—´å¤æ‚åº¦æ˜¯O(logN)ï¼Œå…±Nä¸ªå…ƒç´ ï¼Œéœ€è°ƒæ•´N - 1æ¬¡</li>
<li>å¼¹å‡ºæ“ä½œçš„æ—¶é—´å¤æ‚åº¦æ˜¯O(1)çš„</li>
<li>æ—¶é—´æ•ˆç‡ä¸€å®šä¸ä¼šé€€åŒ–</li>
</ul>
</li>
</ul>
<h3 id="å»ºå †"><a href="#å»ºå †" class="headerlink" title="å»ºå †"></a>å»ºå †</h3><p>ã€è‹¥è¦ä½¿ç”¨å †æ’åºï¼Œé¦–å…ˆéœ€è¦ç»´æŠ¤ä¸€ä¸ªå †ï¼Œä¹Ÿå°±æ˜¯ç”¨æ™®é€šçš„åºåˆ—<strong>å»ºå †</strong>ï¼Œä¸‹é¢æœ‰2ç§æ€è·¯ã€‘</p>
<h4 id="å¸¸è§„æ€è·¯"><a href="#å¸¸è§„æ€è·¯" class="headerlink" title="å¸¸è§„æ€è·¯"></a>å¸¸è§„æ€è·¯</h4><p>åˆå«æ’å…¥å»ºå †æ³•</p>
<ul>
<li>æŒ‰ç…§å‰è¿°å°¾éƒ¨æ’å…¥çš„è°ƒæ•´æ–¹æ³•ï¼šè‡ªä¸‹å‘ä¸Š<ul>
<li>ä»ç¬¬0å±‚ [é»˜è®¤æ ¹ç»“ç‚¹åœ¨ç¬¬0å±‚] å¼€å§‹ï¼Œè®¡ç®—æ¯ä¸€å±‚çš„æœ€å¤šè°ƒæ•´æ¬¡æ•°ï¼š</li>
<li><img src="/img/loading.gif" data-original="https://i.loli.net/2020/12/02/li25Ec7btFYP68H.png" alt="å›¾ç‰‡" style="zoom:33%;"></li>
<li>ç¬¬ i å±‚å…ƒç´ çš„è°ƒæ•´æ¬¡æ•°ä¸º iï¼Œç¬¬ i å±‚çš„ç»“ç‚¹æ•°ä¸º2 ^ iâ†’ ç¬¬ i å±‚çš„æ€»è°ƒæ•´æ¬¡æ•°ä¸º i * (2 ^ i)</li>
</ul>
</li>
<li>æœ€åçš„å»ºå †æ—¶é—´å¤æ‚åº¦O(NlogN)ï¼Œè®¡ç®—è¿‡ç¨‹å¦‚ä¸‹ï¼š<ul>
<li>æ€»çš„è°ƒæ•´æ¬¡æ•° S = (n - 1) * 2 ^ (n + 1) + 1ï¼Œè¿‡ç¨‹å¦‚ä¸‹ï¼š<ul>
<li><img src="/img/loading.gif" data-original="https://i.loli.net/2020/12/02/1Ierol5t3OMdZvT.png" alt="å›¾ç‰‡" style="zoom: 50%;"></li>
<li>åˆ©ç”¨è£‚é¡¹ç›¸æ¶ˆæ³•</li>
</ul>
</li>
<li>ä¸Šé¢çš„nå¯¹åº”å±‚æ•° - 1 [ä»ç¬¬0å±‚å¼€å§‹çš„]ï¼Œè‹¥ä»¤æ€»çš„ç»“ç‚¹æ•°ä¸ºNï¼Œåˆ™n â‰ˆ log[2]N</li>
<li>â—ã€å±‚æ•°nâ†’ç»“ç‚¹æ•°Nçš„æ¢ç®—ã€‘å°†n â‰ˆ log[2]Nä»£å…¥Sï¼Œå¾—åˆ°S â‰ˆ Nlog[2]N</li>
<li>å³æœ€åçš„æ—¶é—´å¤æ‚åº¦ä¸ºï¼šO(NlogN)</li>
</ul>
</li>
</ul>
<h4 id="çº¿æ€§æ€è·¯â­"><a href="#çº¿æ€§æ€è·¯â­" class="headerlink" title="çº¿æ€§æ€è·¯â­"></a>çº¿æ€§æ€è·¯â­</h4><p>ä¹Ÿå°±æ˜¯ã€çº¿æ€§å»ºå †æ³•ã€‘</p>
<p><img src="/img/loading.gif" data-original="https://i.loli.net/2020/12/02/xacplE79RSy5nZb.png" alt="å›¾ç‰‡" style="zoom: 33%;"></p>
<ul>
<li><p>å¦‚å›¾æ‰€ç¤º</p>
<ul>
<li>å¸¸è§„æ€è·¯ï¼šè¶Šåˆ°ä¸‹é¢å±‚ï¼Œéœ€è¦çš„è°ƒæ•´æ¬¡æ•°è¶Šå¤šï¼Œä¹Ÿå°±æ˜¯æƒé‡è¶Šå¤§</li>
<li>â— é‚£æ˜¯å¦å¯ä»¥æ€ç»´åè½¬ï¼ŒæŠŠå¤§æƒé‡æ”¾åˆ°å‰é¢ï¼Œè®©ä¸‹é¢ç»“ç‚¹æ•°å¤šçš„å±‚çš„æƒé‡å‡å°</li>
<li>çº¿æ€§æ€è·¯ï¼šå¯ä»¥ï¼ä»å€’æ•°ç¬¬äºŒå±‚å¼€å§‹æ’ï¼Œã€è‡ªä¸Šå‘ä¸‹ã€‘è°ƒæ•´</li>
</ul>
</li>
<li><p>ğŸ†’æœ€åçš„å»ºå †æ—¶é—´å¤æ‚åº¦O(N)</p>
<ul>
<li>åŒæ ·åˆ©ç”¨è£‚é¡¹ç›¸æ¶ˆæ³•å¾—åˆ°æ€»çš„è°ƒæ•´æ¬¡æ•° S = 2 ^ (n + 1) - 2 - n</li>
<li>æŠŠå±‚æ•°næ¢ç®—åˆ°ç»“ç‚¹æ•°Nï¼Œå¾—åˆ°S â‰ˆ 2N - 2 - log[2]N</li>
<li>å³æœ€åçš„æ—¶é—´å¤æ‚åº¦ä¸ºï¼šO(N)</li>
</ul>
</li>
<li><p>â­æ¨èè§†é¢‘</p>
<p>  Linear Time BuildHeap</p>
<p>  â€”â€”Youtube</p>
<ul>
<li>æ¯”è¾ƒäº†å¸¸è§„å»ºå †å’Œçº¿æ€§å»ºå †ä¸¤ç§æ€è·¯ï¼Œå¹¶æœ‰ç›´è§‚çš„åŠ¨ç”»æ¼”ç¤ºï¼ŒåŠ æ·±å°è±¡</li>
</ul>
</li>
</ul>
<pre class="line-numbers language-c" data-language="c"><code class="language-c">
#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;
#include &lt;time.h&gt;

#define swap(a, b) {\
    __typeof(a) __temp = a;\
    a = b; b = __temp;\
}

void downUpdate(int *arr, int n, int ind) {
    while ((ind &lt;&lt; 1) &lt;= n) {
        int temp = ind, l = ind &lt;&lt; 1, r = ind &lt;&lt; 1 | 1;
        if (arr[l] &gt; arr[temp]) temp = l;
        if (r &lt;= n &amp;&amp; arr[r] &gt; arr[temp]) temp = r;
        if (ind == temp) break;
        swap(arr[temp], arr[ind]);
        ind = temp;
    }
    return ;
}

void heap_sort(int *arr, int n) {
    arr -= 1;
    //ä»æœ€åä¸€ä¸ªç»“ç‚¹çš„çˆ¶ç»“ç‚¹å¼€å§‹è°ƒæ•´
    for (int i = n &gt;&gt; 1; i &gt;= 1; i--) {
        downUpdate(arr, n, i);
    }
    for (int i = n; i &gt; 1; i--) {
        swap(arr[i], arr[1]);
        downUpdate(arr, i - 1, 1);  //ä»ä¸Šåˆ°ä¸‹è°ƒæ•´
    }
    return ;
}

void output(int *arr, int n) {
    printf("[");
    for (int i = 0; i &lt; n; i++) {
        printf("%d ", arr[i]);
    }
    printf("]\n");
    return ;
}

int main() {
    srand(time(0));
    #define max_n 20
    int *arr = (int *)malloc(sizeof(int) * max_n);
    for (int i = 0; i &lt; max_n; i++) {
        arr[i] = rand() % 100;
    }
    output(arr, max_n);
    heap_sort(arr, max_n);
    output(arr, max_n);
    free(arr);
    #undef max_n
    return 0;
}
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="æ£®æ—ä¸å¹¶æŸ¥é›†"><a href="#æ£®æ—ä¸å¹¶æŸ¥é›†" class="headerlink" title="æ£®æ—ä¸å¹¶æŸ¥é›†"></a>æ£®æ—ä¸å¹¶æŸ¥é›†</h2><p><strong>å¹¶æŸ¥é›†èƒ½è§£å†³çš„é—®é¢˜ï¼š</strong>  å…·æœ‰è¿é€šæ€§å…³ç³»çš„é—®é¢˜</p>
<ul>
<li>ç¡®è®¤è¿é€šå…³ç³»ï¼šå¹¿ä¹‰ä¸Šæ¥è¯´ æ˜¯å°†ä¸¤ä¸ªé›†åˆè¿›è¡Œåˆå¹¶æˆå…·æœ‰è¿é€šå…³ç³»çš„é›†åˆ</li>
<li>å¯ä»¥åˆ¤æ–­æˆ‘ä»¬ä¸¤ä¸ªç‚¹åœ¨ä¸€ä¸ªé›†åˆä¸­æ˜¯å¦å…·æœ‰è¿é€šå…³ç³»</li>
</ul>
<p><img src="/img/loading.gif" data-original="https://i.loli.net/2020/12/01/P2gNkn1Kl6hrf5D.png" style="zoom: 50%;"></p>
<p><strong>==quick-findç®—æ³•==</strong></p>
<ul>
<li>æ ¸å¿ƒæ€æƒ³ï¼šæŸ“è‰²<ul>
<li>ä¸€ä¸ªé¢œè‰²ï¼Œå¯¹åº”ä¸€ä¸ªç±»åˆ«</li>
<li>åˆå§‹åŒ–ï¼šä¸ªä½“ç‹¬ç«‹ï¼Œéƒ½å†™æˆè‡ªå·±çš„ç´¢å¼•ï¼Œå±äºä¸€ä¸ªç‹¬ç«‹çš„é›†åˆé‡Œ</li>
<li>â­æŠŠå’Œè‡ªå·±<strong>è¿é€šçš„æ‰€æœ‰</strong>ç‚¹çš„é¢œè‰²æ”¹æˆè¦æŸ“çš„é¢œè‰²</li>
</ul>
</li>
<li><img src="/img/loading.gif" data-original="https://i.loli.net/2020/12/01/ME1OelXAKCh8oTy.png" style="zoom:50%;"></li>
</ul>
<p><img src="/img/loading.gif" data-original="https://i.loli.net/2020/12/02/WqwkN7KaLhMrSsY.png" style="zoom: 33%;"></p>
<p><img src="/img/loading.gif" data-original="https://i.loli.net/2020/12/02/TPQ82X5sUf6uaip.png" style="zoom: 33%;"></p>
<p><img src="/img/loading.gif" data-original="https://i.loli.net/2020/12/02/INyQYtorC2s9HcS.png" style="zoom: 33%;"></p>
<p><img src="/img/loading.gif" data-original="https://i.loli.net/2020/12/02/ntTUIECy5oNiBK3.png" style="zoom: 33%;"></p>
<p><img src="/img/loading.gif" data-original="https://i.loli.net/2020/12/02/OV5Kg3sGFUJ1yzn.png" style="zoom:33%;"></p>
<p><img src="/img/loading.gif" data-original="https://i.loli.net/2020/12/02/GSbncK8QoPh7Agd.png" style="zoom:33%;"></p>
<p><img src="/img/loading.gif" data-original="https://i.loli.net/2020/12/02/ajEWyiRCK9whLuT.png" style="zoom:33%;"></p>
<p><img src="/img/loading.gif" data-original="https://i.loli.net/2020/12/02/THxgoszNDCR4OPb.png" style="zoom:33%;"></p>
<p><img src="/img/loading.gif" data-original="https://i.loli.net/2020/12/02/UE1fvsd9CFnGwZa.png" style="zoom:50%;"></p>
<hr>
<ul>
<li><p><strong>==quick_unionç®—æ³•==</strong></p>
<ul>
<li>æ‰¾ä»£è¡¨å…ƒç´ ğŸ‘‰ï¼ˆæ‰¾å¤§å“¥ï¼‰ å¯¹äºä¸¤ä¸ªç‚¹ æˆ‘ä»¬å¦‚æœæƒ³åˆ¤æ–­è¿é€šæ€§ é‚£ä¹ˆæˆ‘ä»¬å°±å»æŸ¥çœ‹ä»–ä»¬çš„å¤§å“¥æ˜¯ä¸æ˜¯åŒä¸€ä¸ª</li>
<li>å¯¹äºé›†åˆå’Œé›†åˆä¹‹é—´å»ºç«‹çš„è¿é€šå…³ç³»å¯ä»¥è®¤ä¸ºæ˜¯é›†åˆå’Œé›†åˆä¹‹é—´çš„åˆå¹¶æ“ä½œ <ul>
<li>ğŸ‘‰ ï¼ˆé€»è¾‘ä¸Šï¼‰ä¸¤é¢—å­æ ‘çš„åˆå¹¶æ“ä½œ</li>
<li>ğŸ‘‰    æœ€ç»ˆä¼šåœ¨ä¸€ä¸ªæ ¹ç»“ç‚¹ä¸‹é¢ ä¹Ÿå°±åªæœ‰ä¸€ä¸ªä»£è¡¨å…ƒç´ </li>
</ul>
</li>
</ul>
</li>
<li><p>é¦–å…ˆé“¾è¡¨æ˜¯ä¸€æ£µæç«¯çš„æ ‘</p>
</li>
<li>å½“æˆ‘ä»¬ç”¨è¿™ç§ç®—æ³•æ—¶ä¸¤æ£µå­æ ‘å¯èƒ½é€€åŒ–æˆé“¾è¡¨ ä¸”æœ‰nä¸ªèŠ‚ç‚¹ åˆ™æ­¤æ—¶çš„æ ‘é«˜ä¹Ÿä¸ºn <ul>
<li>åˆå¹¶æ“ä½œå°†é€€åŒ–ä¸ºO(n) â†’O(æ ‘é«˜)</li>
<li>è”é€šæ“ä½œå°†é€€åŒ–ä¸ºO(n) â†’O(æ ‘é«˜)</li>
</ul>
</li>
</ul>
<p><img src="/img/loading.gif" data-original="https://i.loli.net/2020/12/02/pqUVch8YfDGRPvB.png" alt=""></p>
<p><strong>==Weighted quick_unionç®—æ³•==</strong></p>
<ul>
<li><p>æŒ‰ç§©ä¼˜åŒ–</p>
</li>
<li><p>å¦‚ä½•é¿å…é€€åŒ–ï¼Ÿâ†’ä¿è¯æç¹å¶èŒ‚</p>
<ul>
<li>åˆå¹¶ä¾æ®1ï¼šæ ‘é«˜ï¼ŒçŸ®æ ‘æŒ‚åœ¨é«˜æ ‘ä¸‹[ä¸¤ä¸¤ç»“åˆ]<ul>
<li>é«˜åº¦ä¸º h çš„æ ‘ï¼Œè‡³å°‘éœ€è¦çš„ç»“ç‚¹ä¸ªæ•°Nä¸º2 ^ (h - 1)</li>
<li>å³æ ‘é«˜h = log[2]N + 1 â‰ˆ log[2]N</li>
<li>[PS] åªæœ‰ä¸¤æ£µä¸€æ ·æ ‘é«˜çš„æ ‘åˆå¹¶ï¼Œæ‰ä¼šä½¿é«˜åº¦å¢åŠ </li>
</ul>
</li>
<li>åˆå¹¶ä¾æ®2ï¼šç»“ç‚¹æ•°é‡ï¼Œç»“ç‚¹å°‘çš„æ ‘æŒ‚åœ¨ç»“ç‚¹å¤šçš„æ ‘ä¸‹</li>
<li>ä¸¤ç§ä¼˜åŒ–æ–¹å¼éƒ½èƒ½å¾—åˆ°O(logN)ï¼Œä½†æ˜¯åˆå¹¶ä¾æ®2ã€ç»“ç‚¹æ•°é‡ã€‘æ›´ä¼˜ç§€ä¸€äº›</li>
</ul>
</li>
<li>â­ä¸ºä»€ä¹ˆåˆå¹¶ä¾æ®2æ›´ä¼˜ç§€<ul>
<li>ã€ç¤ºä¾‹ã€‘ä»€ä¹ˆæ˜¯å¹³å‡æŸ¥æ‰¾æ¬¡æ•°<ul>
<li>å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œè®¡ç®—äº†Aã€Bæ ‘çš„å¹³å‡æŸ¥æ‰¾æ¬¡æ•°</li>
<li><img src="/img/loading.gif" data-original="https://i.loli.net/2020/12/02/9Q7TrSfvowusW1i.png" alt="å›¾ç‰‡" style="zoom: 25%;"></li>
<li>ç»“ç‚¹æ·±åº¦å³ä¸ºç»“ç‚¹çš„æŸ¥æ‰¾æ¬¡æ•°ï¼Œå¹³å‡æŸ¥æ‰¾æ¬¡æ•° = æ€»æŸ¥æ‰¾æ¬¡æ•° / æ€»ç»“ç‚¹æ•°</li>
<li>æ­¤ç¤ºä¾‹ï¼ŒBæ ‘çš„æŸ¥æ‰¾æ“ä½œæ›´å¿«</li>
</ul>
</li>
<li>ã€æ¨å¯¼ã€‘åˆå¹¶ä¾æ®2ç›´æ¥å†³å®šå¹³å‡æŸ¥æ‰¾æ¬¡æ•°<ul>
<li>å¯¹äºæœ‰SAã€SBä¸ªç»“ç‚¹çš„Aã€Bæ ‘ï¼Œå®ƒä»¬çš„æ€»æŸ¥æ‰¾æ¬¡æ•°LAã€LBåˆ†åˆ«ä¸ºï¼š<ul>
<li><img src="/img/loading.gif" data-original="https://i.loli.net/2020/12/02/kGLCJWbNK3AUIlo.png" alt="å›¾ç‰‡" style="zoom:33%;"></li>
<li>å…¶ä¸­ï¼Œli ä»£è¡¨ç¬¬ i ä¸ªç»“ç‚¹çš„æ·±åº¦</li>
</ul>
</li>
<li>æ­¤æ—¶è¿›è¡Œåˆå¹¶æ“ä½œï¼Œåˆ†åˆ«è®¡ç®—â‘ Aâ†’Bå’Œâ‘¡Bâ†’Açš„å¹³å‡æŸ¥æ‰¾æ¬¡æ•°<ul>
<li>â‘ å½“Aæ ‘ä½œä¸ºå­æ ‘åˆå¹¶åˆ°Bæ ‘æ—¶ï¼Œä¸º<ul>
<li><img src="/img/loading.gif" data-original="https://i.loli.net/2020/12/02/B3hH8jwXaIxoed5.png" alt="å›¾ç‰‡" style="zoom:33%;"></li>
<li>Aæ ‘ä¸­çš„æ‰€æœ‰ç»“ç‚¹éœ€è¦å¤šæŸ¥æ‰¾ä¸€æ¬¡</li>
</ul>
</li>
<li>â‘¡å½“Bæ ‘ä½œä¸ºå­æ ‘åˆå¹¶åˆ°Aæ ‘æ—¶ï¼Œä¸º<ul>
<li><img src="/img/loading.gif" data-original="https://i.loli.net/2020/12/02/CSLM1K4NwOuWsnm.png" alt="å›¾ç‰‡" style="zoom:33%;"></li>
<li>Bæ ‘ä¸­çš„æ‰€æœ‰ç»“ç‚¹éœ€è¦å¤šæŸ¥æ‰¾ä¸€æ¬¡</li>
</ul>
</li>
</ul>
</li>
<li>â—ã€æ¯”è¾ƒä¸¤ç§æ–¹å¼çš„å¹³å‡æŸ¥æ‰¾æ¬¡æ•°ã€‘<ul>
<li>å’Œæ ‘é«˜[LAã€LB]æ²¡æœ‰ç›´æ¥å…³ç³»ï¼Œè€Œåˆ†å­çš„ç»“ç‚¹æ•°é‡[SAã€SB]ã€ç›´æ¥ã€‘å†³å®šæŸ¥æ‰¾æ¬¡æ•°ï¼Œæ¬¡æ•°è¶Šå°è¶Šå¥½</li>
<li>ğŸ‘‰è°çš„ç»“ç‚¹æ•°å°‘ï¼Œå°±ä½œä¸ºå­æ ‘è¢«åˆå¹¶</li>
<li>â“æ€è€ƒï¼šä¸Šé¢çš„æ¨å¯¼æ˜¯å¦è¯æ˜é«˜åº¦æ— æ³•ä½œä¸ºåˆå¹¶ä¾æ®å‘¢ï¼Ÿ<ul>
<li>âŒå¦ï¼Œé«˜åº¦é—´æ¥å½±å“ç€ç»“ç‚¹æ•°é‡ï¼Œä¸€èˆ¬æƒ…å†µé«˜åº¦è¶Šä½ï¼Œç»“ç‚¹æ•°é‡è¶Šå°‘</li>
<li><strong>ä½†æ˜¯</strong>ï¼Œå¯¹äºç‰¹æ®Šæƒ…å†µï¼ŒAæ ‘æ¯”Bæ ‘é«˜ï¼Œè€ŒAæ ‘ç»“ç‚¹æ•°é‡å´æ¯”Bæ ‘å°‘æ—¶ï¼Œè¿˜æ˜¯æŒ‰ç…§ã€ç»“ç‚¹æ•°é‡ã€‘ä½œä¸ºåˆå¹¶ä¾æ®ï¼Œå°†Aæ ‘ä½œä¸ºå­æ ‘åˆå¹¶åˆ°Bæ ‘é‡Œ</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>æ‰€ä»¥ä»¥ç»“ç‚¹æ•°ä½œä¸ºåˆå¹¶ä¾æ®æ›´ä¼˜ç§€ï¼ğŸ‘‡åˆå¹¶æ€è·¯å¦‚ä¸‹</li>
</ul>
</li>
<li>åœ¨åˆå¹¶ä¸¤æ£µå­æ ‘æ—¶<ul>
<li>å¦‚æœç»“ç‚¹æ•°ä¸€æ ·ï¼Œå°±æŒ‰ç…§æ™®é€šQuick-Unionçš„æ€è·¯æ¢</li>
<li>å¦‚æœä¸ä¸€æ ·ï¼Œç»“ç‚¹æ•°å°‘çš„å­æ ‘çš„æ ¹ç»“ç‚¹æ¥åœ¨ğŸ‘‰ç»“ç‚¹æ•°å¤šçš„å­æ ‘çš„æ ¹ç»“ç‚¹ä¸‹é¢</li>
</ul>
</li>
<li>[PS]æ¢å¥è¯è¯´<ul>
<li>åœ¨æ¢å¤§å“¥æ—¶</li>
<li>å¦‚æœå°å¼Ÿæ•°é‡ä¸€æ ·ï¼Œå°±æŒ‰ç…§æ™®é€šQuick-Unionçš„æ€è·¯æ¢</li>
<li>å¦‚æœä¸ä¸€æ ·ï¼Œå°å¼Ÿå°‘çš„å¤§å“¥å¾—è·ŸğŸ‘‰å°å¼Ÿå¤šçš„å¤§å“¥æ··</li>
</ul>
</li>
</ul>
<p><img src="/img/loading.gif" data-original="https://i.loli.net/2020/12/03/Q9U6dhz8Bl1eLjf.png" style="zoom: 25%;"></p>
<ul>
<li><strong>==Quick-Find vs. Quick-Union==</strong></li>
</ul>
<p><img src="/img/loading.gif" data-original="https://i.loli.net/2020/12/02/xyuUOQsW9oiJenL.png" alt="å›¾ç‰‡" style="zoom: 50%;"></p>
<ul>
<li><p>ã€å…³é”®ã€‘ç†è§£Quick-Union</p>
<ul>
<li>0-&gt;1-&gt;2-&gt;4-&gt;5ã€3-&gt;4-&gt;5ï¼›8-&gt;9-&gt;7-&gt;6</li>
<li>æŸ¥æ‰¾ã€åˆå¹¶è¾¹ç•Œï¼šè‡ªå·±çš„ä»£è¡¨å…ƒç´ å°±æ˜¯æœ¬èº«æ—¶ï¼Œåœæ­¢</li>
</ul>
</li>
<li><p><strong>==Quick-Union vs. weighted Quick-Union==</strong></p>
</li>
</ul>
<p><img src="/img/loading.gif" data-original="https://i.loli.net/2020/12/02/omhF9JsytLTz13i.png" alt="å›¾ç‰‡" style="zoom:33%;"></p>
<ul>
<li>ã€å…³é”®ã€‘ç†è§£weightedçš„å«ä¹‰<ul>
<li>å½“ä¸¤ä¸ªé›†åˆçš„å…ƒç´ ä¸ªæ•°ä¸ä¸€æ ·æ—¶</li>
<li>å…ƒç´ å°‘çš„é›†åˆçš„ä»£è¡¨å…ƒç´ çš„å€¼ğŸ‘‰å…ƒç´ å¤šçš„é›†åˆçš„ä»£è¡¨å…ƒç´ çš„å€¼</li>
<li>å°å¼Ÿå°‘çš„å¤§å“¥å¾—è·Ÿç€å°å¼Ÿå¤šçš„å¤§å“¥æ··</li>
</ul>
</li>
<li>ç»“æœå¯è§†åŒ–<ul>
<li><img src="/img/loading.gif" data-original="https://i.loli.net/2020/12/02/3axleQf7TPc1JEb.png" alt="å›¾ç‰‡" style="zoom: 33%;"></li>
<li>å¾ˆæ˜æ˜¾ï¼Œweightedæ–¹æ³•å¾—åˆ°çš„æ ‘æ›´çŸ®ï¼Œåˆå¹¶ã€æŸ¥æ‰¾æ•ˆç‡æ›´é«˜</li>
</ul>
</li>
</ul>
<ul>
<li><strong>ä»ç»ƒä¹ é¢˜å…¥æ‰‹å¹¶æŸ¥é›†</strong></li>
</ul>
<p><img src="/img/loading.gif" data-original="https://i.loli.net/2020/12/04/MEo37UCIGHfJZvW.png" alt=""></p>
<p> æ ·ä¾‹è¾“å…¥</p>
<pre class="line-numbers language-none"><code class="language-none">6 5
1 1 2
2 1 3
1 2 4
1 4 3
2 1 3<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p> æ ·ä¾‹è¾“å‡º</p>
<pre class="line-numbers language-none"><code class="language-none">No
Yes<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>quick_find</p>
<pre class="line-numbers language-c" data-language="c"><code class="language-c">
#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;

typedef struct UnionSet {
    int *color; //éœ€è¦ä¸€ç‰‡è¿ç»­çš„ç©ºé—´å­˜å‚¨æ¯ä¸ªå…ƒç´ çš„é¢œè‰² 
    int n;		//coloræŒ‡å‘è¿™ç‰‡è¿ç»­ç©ºé—´çš„é¦–åœ°å€
} UnionSet;

UnionSet *init(int n) {
    UnionSet *u = (UnionSet *)malloc(sizeof(UnionSet));
    u-&gt;color = (int *)malloc(sizeof(int) * (n + 1));
    u-&gt;n = n;
    for (int i = 1; i &lt;= n; i++) {
        u-&gt;color[i] = i; // å°†æ¯ä¸ªå…ƒç´ åˆå§‹åŒ–ä¸ºè‡ªå·±
    }
    return u;
}

int find(UnionSet *u, int x) {
    return u-&gt;color[x];
}

//åˆå¹¶
int merge(UnionSet *u, int a, int b) {
    if (find(u, a) == find(u, b)) return 0; //åˆ¤æ–­aå’Œbæ˜¯å¦è¿é€š 
    int color_a = u-&gt;color[a]; //ä¿å­˜å‰ä¸€ä¸ªå˜é‡çš„é¢œè‰²
    //æŠŠæ‰€æœ‰açš„é¢œè‰² æ”¹ä¸º bçš„é¢œè‰²
    for (int i = 1; i &lt;= u-&gt;n; i++) {
        if (u-&gt;color[i] - color_a) continue; //è‹¥å½“å‰içš„é¢œè‰²ç­‰ä¸açš„é¢œè‰² åˆ™æ‰§è¡Œä¸‹æ¬¡å¾ªç¯ å¦åˆ™ 
        u-&gt;color[i] = u-&gt;color[b];				//å°†içš„é¢œè‰²æ”¹ä¸ºbçš„é¢œè‰²
    }
    return 1;
}

void clear(UnionSet *u) {
    if (u == NULL) return ;
    free(u-&gt;color);
    free(u);
    return ;
}

int main() {
    int n, m;
    scanf("%d%d", &amp;n, &amp;m);
    UnionSet *u = init(n);
    for (int i = 0; i &lt; m; i++) {
        int a, b, c;
        scanf("%d%d%d", &amp;a, &amp;b, &amp;c);
        switch (a) {
            case 1: merge(u, b, c); break;
            case 2: printf("%s\n", find(u, b) == find(u, c) ? "Yes" : "No");
                    break;
        }
    }
    clear(u);
    return 0;
}<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>Weighted quick_union + è·¯å¾„å‹ç¼©</p>
<pre class="line-numbers language-c" data-language="c"><code class="language-c">
#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;

#define swap(a, b) {\
    __typeof(a) __temp = a;\
    a = b; b = __temp;\
}

typedef struct UnionSet {
    int *father;
    int *size; //è®°å½•ç›¸å…³çš„èŠ‚ç‚¹ä¸ªæ•°  weighted quick-union ä¼˜åŒ–
    int n;
} UnionSet;

UnionSet *init(int n) {
    UnionSet *u = (UnionSet *)malloc(sizeof(UnionSet));
    u-&gt;father = (int *)malloc(sizeof(int) * (n + 1));
    u-&gt;size = (int *)malloc(sizeof(int) * (n + 1));
    u-&gt;n = n;
    for (int i = 1; i &lt;= n; i++) {
        u-&gt;father[i] = i;
        u-&gt;size[i] = 1; //æœ€å¼€å§‹ç›¸å…³çš„èŠ‚ç‚¹æ•°ä¸ºè‡ªå·± = 1
    }
    return u;
}

int find(UnionSet *u, int x) {
    //if (u-&gt;father[x] == x) return x;//è¿”å›çš„æ˜¯å½“å‰å…ƒç´ çš„ä»£è¡¨å…ƒç´ 
    //return find(u, u-&gt;father[x]);   //å¦åˆ™æˆ‘ä»¬å°±é€’å½’å»æ‰¾å®ƒçˆ¶äº²çš„çˆ¶äº²

    //ä¼˜åŒ– ï¼šè·¯å¾„å‹ç¼©  æ‰¾åˆ°æœ€ç›´æ¥çš„çˆ¶äº²  åœ¨è·¯å¾„å‹ç¼©é¢å‰ å¯ä»¥å»æ‰æŒ‰èŠ‚ç‚¹åˆå¹¶çš„ä¼˜åŒ–æ“ä½œ å…¶æ•ˆç‡å·®ä¸å¤š
    return u-&gt;father[x] = (u-&gt;father[x] == x ? x : find(u, u-&gt;father[x]));
}

int merge(UnionSet *u, int a, int b) {
    int fa = find(u, a), fb = find(u, b);
    if (fa == fb) return 0;
    if (u-&gt;size[fa] &lt; u-&gt;size[fb]) swap(fa, fb); //å½“façš„èŠ‚ç‚¹ä¸ªæ•°å°äºfbçš„èŠ‚ç‚¹ä¸ªæ•° äº¤æ¢å®ƒä»¬ ä¿è¯façš„èŠ‚ç‚¹æ•°æ˜¯æœ€å¤§çš„
    u-&gt;father[fb] = fa;   //æŠŠfaå½“åšåˆå¹¶åçš„æ ¹èŠ‚ç‚¹
    u-&gt;size[fa] += u-&gt;size[fb];  //å½“fbä½œä¸ºå­æ ‘æ—¶ faæ•´ä½“çš„èŠ‚ç‚¹ä¸ªæ•°è¦åŠ ä¸Šfbçš„
    return 1;
}

void clear(UnionSet *u) {
    if (u == NULL) return ;
    free(u-&gt;father);
    free(u-&gt;size);
    free(u);
    return ;
}

int main() {
    int n, m;
    scanf("%d%d", &amp;n, &amp;m);
    UnionSet *u = init(n);
    for (int i = 0; i &lt; m; i++) {
        int a, b, c;
        scanf("%d%d%d", &amp;a, &amp;b, &amp;c);
        switch (a) {
            case 1: merge(u, b, c); break;
            case 2: printf("%s\n", find(u, b) == find(u, c) ? "Yes" : "No");
                    break;
        }
    }
    clear(u);
    return 0;
}
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">æ–‡ç« ä½œè€…: </span><span class="post-copyright-info"><a href="mailto:undefined">srymaker0</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">æ–‡ç« é“¾æ¥: </span><span class="post-copyright-info"><a href="http://srymaker0.com/posts/73f4">http://srymaker0.com/posts/73f4</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">ç‰ˆæƒå£°æ˜: </span><span class="post-copyright-info">æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> è®¸å¯åè®®ã€‚è½¬è½½è¯·æ³¨æ˜æ¥è‡ª <a href="http://srymaker0.com" target="_blank">The Srymaker0</a>ï¼</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/Data-structure-C/">Data structure, C</a></div><div class="post_share"><div class="social-share" data-image="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js" defer></script></div></div><div class="post-reward"><div class="reward-button button--animated"><i class="fas fa-qrcode"></i> æ‰“èµ</div><div class="reward-main"><ul class="reward-all"><li class="reward-item"><a href="https://cdn.jsdelivr.net/gh/srymaker0/blogImgs@main/Img/20210505162738.png" target="_blank"><img class="post-qr-code-img" src="https://cdn.jsdelivr.net/gh/srymaker0/blogImgs@main/Img/20210505162738.png" alt="wechat"/></a><div class="post-qr-code-desc">wechat</div></li><li class="reward-item"><a href="https://cdn.jsdelivr.net/gh/srymaker0/blogImgs@main/Img/20210505162714.png" target="_blank"><img class="post-qr-code-img" src="https://cdn.jsdelivr.net/gh/srymaker0/blogImgs@main/Img/20210505162714.png" alt="alipay"/></a><div class="post-qr-code-desc">alipay</div></li></ul></div></div><hr/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> è¯„è®º</span></div></div><div class="comment-wrap"><div><div class="vcomment" id="vcomment"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>ç›®å½•</span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%A1%BA%E5%BA%8F%E8%A1%A8"><span class="toc-number">1.</span> <span class="toc-text">é¡ºåºè¡¨</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%93%BE%E8%A1%A8"><span class="toc-number">2.</span> <span class="toc-text">é“¾è¡¨</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%A0%88%E4%B8%8E%E9%98%9F%E5%88%97"><span class="toc-number">3.</span> <span class="toc-text">æ ˆä¸é˜Ÿåˆ—</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8B%AC%E5%8F%B7%E5%8C%B9%E9%85%8D%E9%97%AE%E9%A2%98"><span class="toc-number">3.1.</span> <span class="toc-text">æ‹¬å·åŒ¹é…é—®é¢˜</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%A0%91%E4%B8%8E%E4%BA%8C%E5%8F%89%E6%A0%91"><span class="toc-number">4.</span> <span class="toc-text">æ ‘ä¸äºŒå‰æ ‘</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%8E%92%E5%BA%8F%E4%B8%8E%E6%9F%A5%E6%89%BE"><span class="toc-number">5.</span> <span class="toc-text">æ’åºä¸æŸ¥æ‰¾</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%A8%B3%E5%AE%9A%E6%8E%92%E5%BA%8F"><span class="toc-number">5.1.</span> <span class="toc-text">ç¨³å®šæ’åº</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%8D%E7%A8%B3%E5%AE%9A%E6%8E%92%E5%BA%8F"><span class="toc-number">5.2.</span> <span class="toc-text">ä¸ç¨³å®šæ’åº</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9F%A5%E6%89%BE"><span class="toc-number">5.3.</span> <span class="toc-text">æŸ¥æ‰¾</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%93%88%E5%B8%8C%E8%A1%A8"><span class="toc-number">6.</span> <span class="toc-text">å“ˆå¸Œè¡¨</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A0%86%E4%B8%8E%E4%BC%98%E5%85%88%E9%98%9F%E5%88%97"><span class="toc-number">7.</span> <span class="toc-text">å †ä¸ä¼˜å…ˆé˜Ÿåˆ—</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A0%86%E6%8E%92%E5%BA%8F"><span class="toc-number">7.1.</span> <span class="toc-text">å †æ’åº</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BB%BA%E5%A0%86"><span class="toc-number">7.2.</span> <span class="toc-text">å»ºå †</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B8%B8%E8%A7%84%E6%80%9D%E8%B7%AF"><span class="toc-number">7.2.1.</span> <span class="toc-text">å¸¸è§„æ€è·¯</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BA%BF%E6%80%A7%E6%80%9D%E8%B7%AF%E2%AD%90"><span class="toc-number">7.2.2.</span> <span class="toc-text">çº¿æ€§æ€è·¯â­</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%A3%AE%E6%9E%97%E4%B8%8E%E5%B9%B6%E6%9F%A5%E9%9B%86"><span class="toc-number">8.</span> <span class="toc-text">æ£®æ—ä¸å¹¶æŸ¥é›†</span></a></li></ol></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2021 By srymaker0</div><div class="footer_custom_text"><p><a style="margin-inline:5px"target="_blank" href="https://hexo.io/"><img src="https://img.shields.io/badge/Frame-Hexo-blue?style=flat&logo=hexo" title="åšå®¢æ¡†æ¶ä¸º Hexo" alt="HEXO"></a><a style="margin-inline:5px"target="_blank" href="https://butterfly.js.org/"><img src="https://img.shields.io/badge/Theme-Butterfly-6513df?style=flat&logo=bitdefender" title="ä¸»é¢˜é‡‡ç”¨ Butterfly" alt="Butterfly"></a><a style="margin-inline:5px"target="_blank" href="https://www.jsdelivr.com/"><img src="https://img.shields.io/badge/CDN-jsDelivr-orange?style=flat&logo=jsDelivr" title="æœ¬ç«™ä½¿ç”¨ Jsdelivr ä¸ºé™æ€èµ„æºæä¾›CDNåŠ é€Ÿ" alt="Jsdelivr"></a><a style="margin-inline:5px"target="_blank" href="https://github.com/"><img src="https://img.shields.io/badge/Source-Github-d021d6?style=flat&logo=GitHub" title="æœ¬ç«™é¡¹ç›®ç”± GitHub æ‰˜ç®¡" alt="GitHub"></a><a style="margin-inline:5px"target="_blank"href="http://creativecommons.org/licenses/by-nc-sa/4.0/"><img src="https://img.shields.io/badge/Copyright-BY--NC--SA%204.0-d42328?style=flat&logo=Claris" alt="img" title="æœ¬ç«™é‡‡ç”¨çŸ¥è¯†å…±äº«ç½²å-éå•†ä¸šæ€§ä½¿ç”¨-ç›¸åŒæ–¹å¼å…±äº«4.0å›½é™…è®¸å¯åè®®è¿›è¡Œè®¸å¯"></a></p></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="é˜…è¯»æ¨¡å¼"><i class="fas fa-book-open"></i></button><button id="font-plus" type="button" title="æ”¾å¤§å­—ä½“"><i class="fas fa-plus"></i></button><button id="font-minus" type="button" title="ç¼©å°å­—ä½“"><i class="fas fa-minus"></i></button><button id="translateLink" type="button" title="ç®€ç¹è½¬æ¢">ç¹</button><button id="darkmode" type="button" title="æµ…è‰²å’Œæ·±è‰²æ¨¡å¼è½¬æ¢"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="å•æ å’ŒåŒæ åˆ‡æ¢"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="è®¾ç½®"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="ç›®å½•"><i class="fas fa-list-ul"></i></button><a id="to_comment" href="#post-comment" title="ç›´è¾¾è¯„è®º"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="å›åˆ°é¡¶éƒ¨"><i class="fas fa-arrow-up"></i></button></div></div><div id="local-search"><div class="search-dialog"><div class="search-dialog__title" id="local-search-title">æœ¬åœ°æœç´¢</div><div id="local-input-panel"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="æœç´¢æ–‡ç« " type="text"/></div></div></div><hr/><div id="local-search-results"></div><span class="search-close-button"><i class="fas fa-times"></i></span></div><div id="search-mask"></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.js"></script><script src="/js/search/local-search.js"></script><script>var preloader = {
  endLoading: () => {
    document.body.style.overflow = 'auto';
    document.getElementById('loading-box').classList.add("loaded")
  },
  initLoading: () => {
    document.body.style.overflow = '';
    document.getElementById('loading-box').classList.remove("loaded")

  }
}
window.addEventListener('load',preloader.endLoading())</script><div class="js-pjax"><script>if (!window.MathJax) {
  window.MathJax = {
    loader: {
      source: {
        '[tex]/amsCd': '[tex]/amscd'
      }
    },
    tex: {
      inlineMath: [ ['$','$'], ["\\(","\\)"]],
      tags: 'ams'
    },
    options: {
      renderActions: {
        findScript: [10, doc => {
          for (const node of document.querySelectorAll('script[type^="math/tex"]')) {
            const display = !!node.type.match(/; *mode=display/)
            const math = new doc.options.MathItem(node.textContent, doc.inputJax[0], display)
            const text = document.createTextNode('')
            node.parentNode.replaceChild(text, node)
            math.start = {node: text, delim: '', n: 0}
            math.end = {node: text, delim: '', n: 0}
            doc.math.push(math)
          }
        }, ''],
        addClass: [200,() => {
          document.querySelectorAll('mjx-container:not([display=\'true\']').forEach( node => {
            const target = node.parentNode
            if (!target.classList.contains('has-jax')) {
              target.classList.add('mathjax-overflow')
            }
          })
        }, '', false]
      }
    }
  }
  
  const script = document.createElement('script')
  script.src = 'https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js'
  script.id = 'MathJax-script'
  script.async = true
  document.head.appendChild(script)
} else {
  MathJax.startup.document.state(0)
  MathJax.texReset()
  MathJax.typeset()
}</script><script>function loadValine () {
  function initValine () {
    const valine = new Valine(Object.assign({
      el: '#vcomment',
      appId: 'nEiQmW5sudWU8qxAvdOcD1wB-gzGzoHsz',
      appKey: 'pFNcskuOgHsbDVMLzenxFOFP',
      placeholder: 'Please leave your footprints',
      avatar: 'retro',
      meta: 'nick,mail,link'.split(','),
      pageSize: '10',
      lang: 'zh-CN',
      recordIP: false,
      serverURLs: '',
      emojiCDN: 'https://img.t.sinajs.cn/t4/appstyle/expression/ext/normal/',
      emojiMaps: "",
      enableQQ: false,
      path: window.location.pathname,
      requiredFields: ["nick,mail"],
      visitor: false
    }, null))
  }

  if (typeof Valine === 'function') initValine() 
  else getScript('https://cdn.jsdelivr.net/npm/valine/dist/Valine.min.js').then(initValine)
}

if ('Valine' === 'Valine' || !false) {
  if (false) btf.loadComment(document.getElementById('vcomment'),loadValine)
  else setTimeout(loadValine, 0)
} else {
  function loadOtherComment () {
    loadValine()
  }
}</script></div><script src="https://cdn.jsdelivr.net/gh/CCKNBC/ccknbc.github.io@latest/js/ccknbc.js"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div><!-- hexo-inject:begin --><!-- hexo-inject:end --><script>
            window.imageLazyLoadSetting = {
                isSPA: false,
                preloadRatio: 1,
                processImages: null,
            };
        </script><script>window.addEventListener("load",function(){var t=/\.(gif|jpg|jpeg|tiff|png)$/i,r=/^data:image\/[a-z]+;base64,/;Array.prototype.slice.call(document.querySelectorAll("img[data-original]")).forEach(function(a){var e=a.parentNode;"A"===e.tagName&&(e.href.match(t)||e.href.match(r))&&(e.href=a.dataset.original)})});</script><script>!function(n){n.imageLazyLoadSetting.processImages=i;var e=n.imageLazyLoadSetting.isSPA,r=(n.imageLazyLoadSetting.preloadRatio,Array.prototype.slice.call(document.querySelectorAll("img[data-original]")));function i(){e&&(r=Array.prototype.slice.call(document.querySelectorAll("img[data-original]")));for(var t,a=0;a<r.length;a++)0<=(t=(t=r[a]).getBoundingClientRect()).bottom&&0<=t.left&&t.top<=(n.innerHeight+240||document.documentElement.clientHeight+240)&&function(){var t,e,n,i,o=r[a];t=o,e=function(){r=r.filter(function(t){return o!==t})},n=new Image,i=t.getAttribute("data-original"),n.onload=function(){t.src=i,e&&e()},t.src!==i&&(n.src=i)}()}i(),n.addEventListener("scroll",function(){var t,e;t=i,e=n,clearTimeout(t.tId),t.tId=setTimeout(function(){t.call(e)},500)})}(this);</script></body></html>